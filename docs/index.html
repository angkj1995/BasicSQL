<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Basic SQL Tutorial</title>

<script src="site_libs/jquery-1.12.4/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="site_libs/datatables-binding-0.15/datatables.js"></script>
<link href="site_libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="site_libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="site_libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<link href="site_libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Basic SQL</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="about.html">About</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://www.linkedin.com/in/kang-jie-ang/">
    <span class="fa fa-linkedin"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Basic SQL Tutorial</h1>

</div>


<p>This tutorial provides a rundown on SQL commands to query relational databases. The content of this tutorial is inspired by IBM’s <a href="https://www.coursera.org/learn/sql-data-science">Databases and SQL for Data Science with Python</a> on Coursera. The tutorial assumes prior knowledge on relational database concepts</p>
<div id="dataset" class="section level2">
<h2>Dataset</h2>
<p>The data for this tutorial are from Chicago’s Data Portal, consisting of the following:</p>
<ol style="list-style-type: decimal">
<li><a href="https://data.cityofchicago.org/Health-Human-Services/Census-Data-Selected-socioeconomic-indicators-in-C/kn9c-c2s2">Socioeconomic Indicators in Chicago</a>
<ul>
<li>This is a cross-sectional (single-year) data containing socioeconomic indicators (<strong>Crowding, Poverty, Unemployment, Age distribution, Income</strong>) for each community area in Chicago</li>
</ul></li>
<li><a href="https://data.cityofchicago.org/Education/Chicago-Public-Schools-Progress-Report-Cards-2011-/9xs2-f89t">Chicago Public Schools</a>
<ul>
<li>This is a cross-section (single-year) data containing school performance indicators (<strong>Health Certification, Safety Score, College Enrollment</strong>) for each school in each comunity area in Chicago</li>
</ul></li>
<li><a href="https://data.cityofchicago.org/Public-Safety/Crimes-2001-to-present/ijzp-q8t2">Chicago Crime Data</a>
<ul>
<li>This is a panel (multi-year) data containing crime information (<strong>Crime type, Arrest indicator</strong>) for each crime that occured in Chicago</li>
</ul></li>
</ol>
<div id="download-csv-data" class="section level3">
<h3>Download (csv data)</h3>
<p>As the data from the three sources are very large, a smaller subset is used for this tutorial instead, with more database-friendly column names</p>
<ol style="list-style-type: decimal">
<li><a href="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-DB0201EN-SkillsNetwork/labs/FinalModule_Coursera/data/Census_Data_-_Selected_socioeconomic_indicators_in_Chicago__2008___2012-v2.csv">Census Dataset</a> (read as <strong>CENSUS_DATA</strong>)</li>
<li><a href="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-DB0201EN-SkillsNetwork/labs/FinalModule_Coursera/data/Chicago_Public_Schools_-_Progress_Report_Cards__2011-2012-v3.csv">Chicago Public School</a> (read as <strong>CHICAGO_PUBLIC_SCHOOLS</strong>)</li>
<li><a href="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-DB0201EN-SkillsNetwork/labs/FinalModule_Coursera/data/Chicago_Crime_Data-v2.csv">Chicago Crime Data</a> (<strong>CHICAGO_CRIME_DATA</strong>)</li>
</ol>
</div>
</div>
<div id="reading-data" class="section level2">
<h2>Reading data</h2>
<p>As there is no live database for this tutorial, the datasets will have to be read in as local dataframes. We will also use the <strong>sqldf</strong> library to practice SQL queries</p>
<pre class="r"><code>CENSUS_DATA = read.csv(&#39;Census_Data_-_Selected_socioeconomic_indicators_in_Chicago__2008___2012-v2.csv&#39;)
CHICAGO_PUBLIC_SCHOOLS = read.csv(&#39;Chicago_Public_Schools_-_Progress_Report_Cards__2011-2012-v3.csv&#39;)
CHICAGO_CRIME_DATA = read.csv(&#39;Chicago_Crime_Data-v2.csv&#39;)
library(sqldf)
library(DT)</code></pre>
<p>Let us take a look at some of the variables in the data that we have</p>
<div id="census-preview" class="section level3">
<h3>Census preview</h3>
<div id="htmlwidget-b25d158c7eae2cc17753" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-b25d158c7eae2cc17753">{"x":{"filter":"none","data":[["1","2","3","4","5","6"],[1,2,3,4,5,6],["Rogers Park","West Ridge","Uptown","Lincoln Square","North Center","Lake View"],[7.7,7.8,3.8,3.4,0.3,1.1],[23.6,17.2,24,10.9,7.5,11.4],[8.7,8.8,8.9,8.2,5.2,4.7],[18.2,20.8,11.8,13.4,4.5,2.6],[27.5,38.5,22.2,25.5,26.2,17],[23939,23040,35787,37524,57123,60058],[39,46,20,17,6,5]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>COMMUNITY_AREA_NUMBER<\/th>\n      <th>COMMUNITY_AREA_NAME<\/th>\n      <th>PERCENT.OF.HOUSING.CROWDED<\/th>\n      <th>PERCENT.HOUSEHOLDS.BELOW.POVERTY<\/th>\n      <th>PERCENT.AGED.16..UNEMPLOYED<\/th>\n      <th>PERCENT.AGED.25..WITHOUT.HIGH.SCHOOL.DIPLOMA<\/th>\n      <th>PERCENT.AGED.UNDER.18.OR.OVER.64<\/th>\n      <th>PER_CAPITA_INCOME<\/th>\n      <th>HARDSHIP_INDEX<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[1,3,4,5,6,7,8,9]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="school-preview" class="section level3">
<h3>School preview</h3>
<div id="htmlwidget-b06947e0f679a6bea079" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-b06947e0f679a6bea079">{"x":{"filter":"none","data":[["1","2","3","4","5","6"],[610038,610281,610185,609993,610513,610212],["Abraham Lincoln Elementary School","Adam Clayton Powell Paideia Community Academy Elementary School","Adlai E Stevenson Elementary School","Agustin Lara Elementary Academy","Air Force Academy High School","Albany Park Multicultural Academy"],["ES","ES","ES","ES","HS","MS"],["615 W Kemper Pl ","7511 S South Shore Dr ","8010 S Kostner Ave ","4619 S Wolcott Ave ","3630 S Wells St ","4929 N Sawyer Ave "],["Chicago","Chicago","Chicago","Chicago","Chicago","Chicago"],["IL","IL","IL","IL","IL","IL"],[60614,60649,60652,60609,60609,60625],["(773) 534-5720","(773) 535-6650","(773) 535-2280","(773) 535-4389","(773) 535-1590","(773) 534-5108"],["http://schoolreports.cps.edu/SchoolProgressReport_Eng/Spring2011Eng_610038.pdf","http://schoolreports.cps.edu/SchoolProgressReport_Eng/Spring2011Eng_610281.pdf","http://schoolreports.cps.edu/SchoolProgressReport_Eng/Spring2011Eng_610185.pdf","http://schoolreports.cps.edu/SchoolProgressReport_Eng/Spring2011Eng_609993.pdf","http://schoolreports.cps.edu/SchoolProgressReport_Eng/Spring2011Eng_610513.pdf","http://schoolreports.cps.edu/SchoolProgressReport_Eng/Spring2011Eng_610212.pdf"],["Fullerton Elementary Network","Skyway Elementary Network","Midway Elementary Network","Pershing Elementary Network","Southwest Side High School Network","O'Hare Elementary Network"],["NORTH-NORTHWEST SIDE COLLABORATIVE","SOUTH SIDE COLLABORATIVE","SOUTHWEST SIDE COLLABORATIVE","SOUTHWEST SIDE COLLABORATIVE","SOUTHWEST SIDE COLLABORATIVE","NORTH-NORTHWEST SIDE COLLABORATIVE"],["No","No","No","No","NDA","Yes"],["Standard","Track_E","Standard","Track_E","Standard","Standard"],["Not on Probation","Not on Probation","Not on Probation","Not on Probation","Not on Probation","Not on Probation"],["Level 1","Level 1","Level 2","Level 1","Not Enough Data","Level 1"],["Yes","No","No","No","Yes","No"],["Very Strong","Average","Strong","Average","Average","Strong"],[99,54,61,56,49,66],["Very Strong","Strong","NDA","Average","Strong","Weak"],["99","66","NDA","44","60","37"],["Strong","Strong","Average","Average","Strong","Strong"],[74,74,50,45,60,66],["Strong","Very Strong","Weak","Weak","Average","Strong"],[66,84,36,37,55,71],["Strong","Strong","NDA","Strong","Average","Average"],["65","63","NDA","65","45","43"],["Strong","Strong","NDA","Average","Average","Average"],["70","76","NDA","48","54","50"],["Strong","Weak","Average","Average","Average","Weak"],["56","46","47","53","53","46"],["Average","Average","Weak","Strong","Average","Average"],["47","50","41","58","49","51"],["96.00%","95.60%","95.70%","95.50%","93.30%","97.00%"],[2,15.7,2.3,10.4,15.6,2.3],["96.40%","95.30%","94.70%","95.80%","96.90%","96.90%"],["95.80%","100.00%","98.30%","100.00%","100.00%","100.00%"],["80.1","62.4","53.7","76.9","NDA","NDA"],["43.3","51.7","26.6","NDA","NDA","NDA"],["89.6","21.9","38.3","26","NDA","NDA"],["84.9","15.1","34.7","24.7","NDA","NDA"],["60.7","29","43.7","61.8","NDA","NDA"],["62.6","42.8","57.3","49.7","NDA","NDA"],["81.9","38.5","48.8","39.2","NDA","60.7"],["85.2","27.4","39.2","27.2","NDA","39.8"],["52","44.8","46.8","69.7","NDA","53.7"],["62.4","42.7","44","60.6","NDA","59.8"],["66.3","14.1","7.5","9.1","NDA","17.5"],["77.9","34.4","21.9","18.2","NDA","20.8"],[69.7,16.8,18.3,11.1,null,34.5],[64.4,16.5,15.5,9.6,null,15.6],[0.2,0.7,-0.9,0.9,null,0.2],[0.9,1.4,-1,2.4,null,0.3],["Yellow","Green","Red","Green","NDA","Yellow"],["Green","Green","Red","Green","NDA","Yellow"],["67.1","17.2","NDA","42.9","NDA","29.2"],["54.5","27.3","NDA","25","NDA","50"],["NDA","NDA","NDA","NDA","14.6","NDA"],["NDA","NDA","NDA","NDA","14.8","NDA"],["NDA","NDA","NDA","NDA","NDA","NDA"],["NDA","NDA","NDA","NDA","16","NDA"],["NDA","NDA","NDA","NDA","1.4","NDA"],["NDA","NDA","NDA","NDA","NDA","NDA"],["NDA","NDA","NDA","NDA","NDA","NDA"],["NDA","NDA","NDA","NDA","NDA","NDA"],["NDA","NDA","NDA","NDA","NDA","NDA"],["NDA","NDA","NDA","NDA","NDA","NDA"],[813,521,1324,556,302,266],[33,46,44,42,40,31],["NDA","NDA","NDA","NDA","91.8","NDA"],[1171699.458,1196129.985,1148427.165,1164504.29,1175177.622,1153858.196],[1915829.428,1856209.466,1851012.215,1873959.199,1880745.126,1932691.891],[41.92449696,41.76032435,41.74711093,41.8097569,41.82814609,41.9711433],[-87.64452163,-87.55673627,-87.73170248,-87.6721446,-87.63279369,-87.70962725],[7,43,70,61,34,14],["LINCOLN PARK","SOUTH SHORE","ASHBURN","NEW CITY","ARMOUR SQUARE","ALBANY PARK"],[43,7,13,20,11,39],[18,4,8,9,9,17],["(41.92449696, -87.64452163)","(41.76032435, -87.55673627)","(41.74711093, -87.73170248)","(41.8097569, -87.6721446)","(41.82814609, -87.63279369)","(41.9711433, -87.70962725)"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>School.ID<\/th>\n      <th>NAME_OF_SCHOOL<\/th>\n      <th>Elementary..Middle..or.High.School<\/th>\n      <th>Street.Address<\/th>\n      <th>City<\/th>\n      <th>State<\/th>\n      <th>ZIP.Code<\/th>\n      <th>Phone.Number<\/th>\n      <th>Link<\/th>\n      <th>Network.Manager<\/th>\n      <th>Collaborative.Name<\/th>\n      <th>Adequate.Yearly.Progress.Made.<\/th>\n      <th>Track.Schedule<\/th>\n      <th>CPS.Performance.Policy.Status<\/th>\n      <th>CPS.Performance.Policy.Level<\/th>\n      <th>HEALTHY_SCHOOL_CERTIFIED<\/th>\n      <th>Safety.Icon<\/th>\n      <th>SAFETY_SCORE<\/th>\n      <th>Family.Involvement.Icon<\/th>\n      <th>Family.Involvement.Score<\/th>\n      <th>Environment.Icon<\/th>\n      <th>Environment.Score<\/th>\n      <th>Instruction.Icon<\/th>\n      <th>Instruction.Score<\/th>\n      <th>Leaders.Icon<\/th>\n      <th>Leaders.Score<\/th>\n      <th>Teachers.Icon<\/th>\n      <th>Teachers.Score<\/th>\n      <th>Parent.Engagement.Icon<\/th>\n      <th>Parent.Engagement.Score<\/th>\n      <th>Parent.Environment.Icon<\/th>\n      <th>Parent.Environment.Score<\/th>\n      <th>AVERAGE_STUDENT_ATTENDANCE<\/th>\n      <th>Rate.of.Misconducts..per.100.students.<\/th>\n      <th>Average.Teacher.Attendance<\/th>\n      <th>Individualized.Education.Program.Compliance.Rate<\/th>\n      <th>Pk.2.Literacy..<\/th>\n      <th>Pk.2.Math..<\/th>\n      <th>Gr3.5.Grade.Level.Math..<\/th>\n      <th>Gr3.5.Grade.Level.Read..<\/th>\n      <th>Gr3.5.Keep.Pace.Read..<\/th>\n      <th>Gr3.5.Keep.Pace.Math..<\/th>\n      <th>Gr6.8.Grade.Level.Math..<\/th>\n      <th>Gr6.8.Grade.Level.Read..<\/th>\n      <th>Gr6.8.Keep.Pace.Math.<\/th>\n      <th>Gr6.8.Keep.Pace.Read..<\/th>\n      <th>Gr.8.Explore.Math..<\/th>\n      <th>Gr.8.Explore.Read..<\/th>\n      <th>ISAT.Exceeding.Math..<\/th>\n      <th>ISAT.Exceeding.Reading..<\/th>\n      <th>ISAT.Value.Add.Math<\/th>\n      <th>ISAT.Value.Add.Read<\/th>\n      <th>ISAT.Value.Add.Color.Math<\/th>\n      <th>ISAT.Value.Add.Color.Read<\/th>\n      <th>Students.Taking..Algebra..<\/th>\n      <th>Students.Passing..Algebra..<\/th>\n      <th>X9th.Grade.EXPLORE..2009.<\/th>\n      <th>X9th.Grade.EXPLORE..2010.<\/th>\n      <th>X10th.Grade.PLAN..2009.<\/th>\n      <th>X10th.Grade.PLAN..2010.<\/th>\n      <th>Net.Change.EXPLORE.and.PLAN<\/th>\n      <th>X11th.Grade.Average.ACT..2011.<\/th>\n      <th>Net.Change.PLAN.and.ACT<\/th>\n      <th>College.Eligibility..<\/th>\n      <th>Graduation.Rate..<\/th>\n      <th>College.Enrollment.Rate..<\/th>\n      <th>COLLEGE_ENROLLMENT<\/th>\n      <th>General.Services.Route<\/th>\n      <th>Freshman.on.Track.Rate..<\/th>\n      <th>X_COORDINATE<\/th>\n      <th>Y_COORDINATE<\/th>\n      <th>Latitude<\/th>\n      <th>Longitude<\/th>\n      <th>COMMUNITY_AREA_NUMBER<\/th>\n      <th>COMMUNITY_AREA_NAME<\/th>\n      <th>Ward<\/th>\n      <th>Police.District<\/th>\n      <th>Location<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[1,7,18,22,24,34,49,50,51,52,67,68,70,71,72,73,74,76,77]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="crime-preview" class="section level3">
<h3>Crime preview</h3>
<div id="htmlwidget-9d15d95c22794b42bd39" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-9d15d95c22794b42bd39">{"x":{"filter":"none","data":[["1","2","3","4","5","6"],[3512276,3406613,8002131,7903289,10402076,7732712],["HK587712","HK456306","HT233595","HT133522","HZ138551","HS540106"],["08/28/2004 05:50:56 PM","06/26/2004 12:40:00 PM","04/04/2011 05:45:00 AM","12/30/2010 04:30:00 PM","02/02/2016 07:30:00 PM","09/29/2010 07:59:00 AM"],["047XX S KEDZIE AVE","009XX N CENTRAL PARK AVE","043XX S WABASH AVE","083XX S KINGSTON AVE","033XX W 66TH ST","006XX W CHICAGO AVE"],["890","820","820","840","820","810"],["THEFT","THEFT","THEFT","THEFT","THEFT","THEFT"],["FROM BUILDING","$500 AND UNDER","$500 AND UNDER","FINANCIAL ID THEFT: OVER $300","$500 AND UNDER","OVER $500"],["SMALL RETAIL STORE","OTHER","NURSING HOME/RETIREMENT HOME","RESIDENCE","ALLEY","PARKING LOT/GARAGE(NON.RESID.)"],[false,false,false,false,false,false],[false,false,false,false,false,false],[911,1112,221,423,831,1323],[9,11,2,4,8,12],[14,27,3,7,15,27],[58,23,38,46,66,24],["6","6","6","6","6","6"],[1155838,1152206,1177436,1194622,1155240,1171668],[1873050,1906127,1876313,1850125,1860661,1905607],[2004,2004,2011,2010,2016,2010],["02/10/2018 03:50:01 PM","02/28/2018 03:56:25 PM","02/10/2018 03:50:01 PM","02/10/2018 03:50:01 PM","02/10/2018 03:50:01 PM","02/10/2018 03:50:01 PM"],[41.8074405,41.89827996,41.81593313,41.74366532,41.7734553,41.89644677],[-87.70395585,-87.71640551,-87.62464213,-87.56246276,-87.70648047,-87.64493868],["(41.8074405, -87.703955849)","(41.898279962, -87.716405505)","(41.815933131, -87.624642127)","(41.743665322, -87.562462756)","(41.773455295, -87.706480471)","(41.896446772, -87.644938678)"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>ID<\/th>\n      <th>CASE_NUMBER<\/th>\n      <th>DATE<\/th>\n      <th>BLOCK<\/th>\n      <th>IUCR<\/th>\n      <th>PRIMARY_TYPE<\/th>\n      <th>DESCRIPTION<\/th>\n      <th>LOCATION_DESCRIPTION<\/th>\n      <th>ARREST<\/th>\n      <th>DOMESTIC<\/th>\n      <th>BEAT<\/th>\n      <th>DISTRICT<\/th>\n      <th>WARD<\/th>\n      <th>COMMUNITY_AREA_NUMBER<\/th>\n      <th>FBICODE<\/th>\n      <th>X_COORDINATE<\/th>\n      <th>Y_COORDINATE<\/th>\n      <th>YEAR<\/th>\n      <th>UPDATEDON<\/th>\n      <th>LATITUDE<\/th>\n      <th>LONGITUDE<\/th>\n      <th>LOCATION<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[1,11,12,13,14,16,17,18,20,21]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="basic-sql-statements" class="section level2">
<h2>Basic SQL Statements</h2>
<div id="select" class="section level3">
<h3>SELECT</h3>
<p>SELECT is used to retrieve data from a table. The syntax is <strong>SELECT * FROM TABLE</strong>. This will query the entire table</p>
<pre class="r"><code>syntax = &#39;SELECT * FROM CENSUS_DATA&#39;
df = sqldf(syntax)
datatable(df,options=list(scrollX=T))</code></pre>
<div id="htmlwidget-3f5cd87fd177110b7db2" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-3f5cd87fd177110b7db2">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78"],[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,null],["Rogers Park","West Ridge","Uptown","Lincoln Square","North Center","Lake View","Lincoln Park","Near North Side","Edison Park","Norwood Park","Jefferson Park","Forest Glen","North Park","Albany Park","Portage Park","Irving Park","Dunning","Montclaire","Belmont Cragin","Hermosa","Avondale","Logan Square","Humboldt park","West Town","Austin","West Garfield Park","East Garfield Park","Near West Side","North Lawndale","South Lawndale","Lower West Side","Loop","Near South Side","Armour Square","Douglas","Oakland","Fuller Park","Grand Boulevard","Kenwood","Washington Park","Hyde Park","Woodlawn","South Shore","Chatham","Avalon Park","South Chicago","Burnside","Calumet Heights","Roseland","Pullman","South Deering","East Side","West Pullman","Riverdale","Hegewisch","Garfield Ridge","Archer Heights","Brighton Park","McKinley Park","Bridgeport","New City","West Elsdon","Gage Park","Clearing","West Lawn","Chicago Lawn","West Englewood","Englewood","Greater Grand Crossing","Ashburn","Auburn Gresham","Beverly","Washington Height","Mount Greenwood","Morgan Park","O'Hare","Edgewater","CHICAGO"],[7.7,7.8,3.8,3.4,0.3,1.1,0.8,1.9,1.1,2,2.7,1.1,3.9,11.3,4.1,6.3,5.2,8.1,10.8,6.9,6,3.2,14.8,2.3,6.3,9.4,8.2,3.8,7.4,15.2,9.6,1.5,1.3,5.7,1.8,1.3,3.2,3.3,2.4,5.6,1.5,2.9,2.8,3.3,1.4,4.7,6.8,2.1,2.5,1.5,4,6.8,3.3,5.8,3.3,2.6,8.5,14.4,7.2,4.5,11.9,11.1,15.8,2.7,5.8,7.6,4.8,3.8,3.6,4,4,0.9,1.1,1,0.8,3.6,4.1,4.7],[23.6,17.2,24,10.9,7.5,11.4,12.3,12.9,3.3,5.4,8.6,7.5,13.2,19.2,11.6,13.1,10.6,15.3,18.7,20.5,15.3,16.8,33.9,14.7,28.6,41.7,42.4,20.6,43.1,30.7,25.8,14.7,13.8,40.1,29.6,39.7,51.2,29.3,21.7,42.1,18.4,30.7,31.1,27.8,17.2,29.8,33,11.5,19.8,21.6,29.2,19.2,25.9,56.5,17.1,8.8,14.1,23.6,18.7,18.9,29,15.6,23.4,8.9,14.9,27.9,34.4,46.6,29.6,10.4,27.6,5.1,16.9,3.4,13.2,15.4,18.2,19.7],[8.7,8.8,8.9,8.2,5.2,4.7,5.1,7,6.5,9,12.4,6.8,9.9,10,12.6,10,10,13.8,14.6,13.1,9.2,8.2,17.3,6.6,22.6,25.8,19.6,10.7,21.2,15.8,15.8,5.7,4.9,16.7,18.2,28.7,33.9,24.3,15.7,28.6,8.4,23.4,20,24,21.1,19.7,18.6,20,20.3,22.8,16.3,12.1,19.4,34.6,9.6,11.3,16.5,13.9,13.4,13.7,23,16.7,18.2,9.5,9.6,17.1,35.9,28,23,11.7,28.3,8,20.8,8.7,15,7.1,9.2,12.9],[18.2,20.8,11.8,13.4,4.5,2.6,3.6,2.5,7.4,11.5,13.4,4.9,14.4,32.9,19.3,22.4,16.2,23.5,37.3,41.6,24.7,14.8,35.4,12.9,24.4,24.5,21.3,9.6,27.6,54.8,40.7,3.1,7.4,34.5,14.3,18.4,26.6,15.9,11.3,25.4,4.3,16.5,14,14.5,10.6,26.6,19.3,11,16.9,13.1,21,31.9,20.5,27.5,19.2,19.3,35.9,45.1,32.9,22.2,41.5,37,51.5,18.8,33.6,31.2,26.3,28.5,16.5,17.7,18.5,3.7,13.7,4.3,10.8,10.9,9.7,19.5],[27.5,38.5,22.2,25.5,26.2,17,21.5,22.6,35.3,39.5,35.5,40.5,39,32,34,31.6,33.6,38.6,37.3,36.4,31,26.2,38,21.7,37.9,43.6,43.2,22.2,42.7,33.8,32.6,13.5,21.8,38.3,30.7,40.4,44.9,39.5,35.4,42.8,26.2,36.1,35.7,40.3,39.3,41.1,42.7,44,41.2,38.6,39.5,42.8,42.1,51.5,42.9,38.1,39.2,39.3,35.6,31.3,38.9,37.7,38.8,37.6,39.6,40.6,40.7,42.5,41,36.9,41.9,40.5,42.6,36.8,40.3,30.3,23.8,33.5],[23939,23040,35787,37524,57123,60058,71551,88669,40959,32875,27751,44164,26576,21323,24336,27249,26282,22014,15461,15089,20039,31908,13781,43198,15957,10934,12961,44689,12034,10402,16444,65526,59077,16148,23791,19252,10432,23472,35911,13785,39056,18672,19398,18881,24454,16579,12515,28887,17949,20588,14685,17104,16563,8201,22677,26353,16134,13089,16954,22694,12765,15754,12171,25113,16907,13231,11317,11888,17285,23482,15528,39523,19713,34381,27149,25828,33385,28202],[39,46,20,17,6,5,2,1,8,21,25,11,33,53,35,34,28,50,70,71,42,23,85,10,73,92,83,15,87,96,76,3,7,82,47,78,97,57,26,88,14,58,55,60,41,75,79,38,52,51,65,64,62,98,44,32,67,84,61,43,91,69,93,29,56,80,89,94,66,37,74,12,48,16,30,24,19,null]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>COMMUNITY_AREA_NUMBER<\/th>\n      <th>COMMUNITY_AREA_NAME<\/th>\n      <th>PERCENT.OF.HOUSING.CROWDED<\/th>\n      <th>PERCENT.HOUSEHOLDS.BELOW.POVERTY<\/th>\n      <th>PERCENT.AGED.16..UNEMPLOYED<\/th>\n      <th>PERCENT.AGED.25..WITHOUT.HIGH.SCHOOL.DIPLOMA<\/th>\n      <th>PERCENT.AGED.UNDER.18.OR.OVER.64<\/th>\n      <th>PER_CAPITA_INCOME<\/th>\n      <th>HARDSHIP_INDEX<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[1,3,4,5,6,7,8,9]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<div id="select-specific-columns" class="section level4">
<h4>SELECT specific columns</h4>
<p>We can also use SELECT on specific columns for a table. The syntax is <strong>SELECT COL_A, COL_B FROM TABLE</strong>. This will query only the specified columns for the entire table</p>
<pre class="r"><code>syntax = &#39;SELECT COMMUNITY_AREA_NUMBER, COMMUNITY_AREA_NAME FROM CENSUS_DATA&#39;
df = sqldf(syntax)
datatable(df,options=list(scrollX=T))</code></pre>
<div id="htmlwidget-350ac4412a1dc6586721" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-350ac4412a1dc6586721">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78"],[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,null],["Rogers Park","West Ridge","Uptown","Lincoln Square","North Center","Lake View","Lincoln Park","Near North Side","Edison Park","Norwood Park","Jefferson Park","Forest Glen","North Park","Albany Park","Portage Park","Irving Park","Dunning","Montclaire","Belmont Cragin","Hermosa","Avondale","Logan Square","Humboldt park","West Town","Austin","West Garfield Park","East Garfield Park","Near West Side","North Lawndale","South Lawndale","Lower West Side","Loop","Near South Side","Armour Square","Douglas","Oakland","Fuller Park","Grand Boulevard","Kenwood","Washington Park","Hyde Park","Woodlawn","South Shore","Chatham","Avalon Park","South Chicago","Burnside","Calumet Heights","Roseland","Pullman","South Deering","East Side","West Pullman","Riverdale","Hegewisch","Garfield Ridge","Archer Heights","Brighton Park","McKinley Park","Bridgeport","New City","West Elsdon","Gage Park","Clearing","West Lawn","Chicago Lawn","West Englewood","Englewood","Greater Grand Crossing","Ashburn","Auburn Gresham","Beverly","Washington Height","Mount Greenwood","Morgan Park","O'Hare","Edgewater","CHICAGO"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>COMMUNITY_AREA_NUMBER<\/th>\n      <th>COMMUNITY_AREA_NAME<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":1},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="limit" class="section level4">
<h4>LIMIT</h4>
<p>LIMIT is used to restrict the number of rows from a data base. The syntax is <strong>SELECT * FROM TABLE LIMIT NUMBER</strong>, where NUMBER is the number of rows required</p>
<pre class="r"><code>syntax = &#39;SELECT COMMUNITY_AREA_NUMBER, COMMUNITY_AREA_NAME FROM CENSUS_DATA LIMIT 3&#39;
df = sqldf(syntax)
datatable(df,options=list(scrollX=T))</code></pre>
<div id="htmlwidget-e0859b150d6baf354d29" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-e0859b150d6baf354d29">{"x":{"filter":"none","data":[["1","2","3"],[1,2,3],["Rogers Park","West Ridge","Uptown"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>COMMUNITY_AREA_NUMBER<\/th>\n      <th>COMMUNITY_AREA_NAME<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":1},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="where" class="section level3">
<h3>WHERE</h3>
<p>WHERE clauses are used to restrict the selection to subsets only. The syntax is <em>SELECT * FROM TABLE</em> <strong>WHERE PREDICATE</strong>. For instance, we want communities with <em>PER_CAPITA_INCOME &gt;= 50000</em></p>
<pre class="r"><code>syntax = &#39;SELECT COMMUNITY_AREA_NUMBER, COMMUNITY_AREA_NAME, PER_CAPITA_INCOME FROM CENSUS_DATA WHERE PER_CAPITA_INCOME&gt;=50000&#39;
df = sqldf(syntax)
datatable(df,options=list(scrollX=T))</code></pre>
<p><div id="htmlwidget-33de4ed4fdc9fbf8b678" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-33de4ed4fdc9fbf8b678">{"x":{"filter":"none","data":[["1","2","3","4","5","6"],[5,6,7,8,32,33],["North Center","Lake View","Lincoln Park","Near North Side","Loop","Near South Side"],[57123,60058,71551,88669,65526,59077]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>COMMUNITY_AREA_NUMBER<\/th>\n      <th>COMMUNITY_AREA_NAME<\/th>\n      <th>PER_CAPITA_INCOME<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[1,3]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script> More conditions are available here</p>
<table>
<thead>
<tr class="header">
<th align="left">Condition</th>
<th align="right">Syntax</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Equal to</td>
<td align="right">=</td>
</tr>
<tr class="even">
<td align="left">Greater than</td>
<td align="right">&gt;</td>
</tr>
<tr class="odd">
<td align="left">Less than</td>
<td align="right">&lt;</td>
</tr>
<tr class="even">
<td align="left">Greater than or equal to</td>
<td align="right">&gt;=</td>
</tr>
<tr class="odd">
<td align="left">Less than or equal to</td>
<td align="right">&lt;=</td>
</tr>
<tr class="even">
<td align="left">Not equal to</td>
<td align="right">&lt;&gt;</td>
</tr>
</tbody>
</table>
</div>
<div id="other-useful-expressions" class="section level3">
<h3>Other useful expressions</h3>
<div id="count" class="section level4">
<h4>COUNT</h4>
<p>COUNT gives the number of rows that match a query. For instance, we want to know how many communities have <em>PER_CAPITA_INCOME &gt;= 50000</em>. We can also rename the column name to something we want using <strong>AS</strong>. This will give 6, which is the same number of rows as the previous example</p>
<pre class="r"><code>syntax = &#39;SELECT COUNT(*) AS NUMBER FROM CENSUS_DATA WHERE PER_CAPITA_INCOME&gt;=50000&#39;
df = sqldf(syntax)
datatable(df,options=list(scrollX=T))</code></pre>
<div id="htmlwidget-f052073f4ef9ae22df39" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-f052073f4ef9ae22df39">{"x":{"filter":"none","data":[["1"],[6]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>NUMBER<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":1},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="distinct" class="section level4">
<h4>DISTINCT</h4>
<p>DISTINCT removes duplicates from the query. For instance, we want to find the unique types of crime from CHICAGO_CRIME_DATA that occur at GAS STATION locations</p>
<pre class="r"><code>syntax = &#39;SELECT DISTINCT(PRIMARY_TYPE) AS CRIME_TYPE, LOCATION_DESCRIPTION FROM CHICAGO_CRIME_DATA WHERE LOCATION_DESCRIPTION = &quot;GAS STATION&quot;&#39;
df = sqldf(syntax)
datatable(df,options=list(scrollX=T))</code></pre>
<div id="htmlwidget-e96dfdb727571e30369c" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-e96dfdb727571e30369c">{"x":{"filter":"none","data":[["1","2","3","4"],["THEFT","NARCOTICS","ROBBERY","CRIMINAL TRESPASS"],["GAS STATION","GAS STATION","GAS STATION","GAS STATION"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>CRIME_TYPE<\/th>\n      <th>LOCATION_DESCRIPTION<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"order":[],"autoWidth":false,"orderClasses":false,"columnDefs":[{"orderable":false,"targets":0}]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="advanced-sql-statements" class="section level2">
<h2>Advanced SQL Statements</h2>
<div id="like-string-pattern" class="section level3">
<h3>LIKE string pattern</h3>
<p>String patterns are useful when we do not know the exact predicate we need. The syntax is <em>SELECT * FROM TABLE WHERE</em> <strong>PREDICATE LIKE ‘%B’</strong> For instance, we want all Community Areas that start with B</p>
<pre class="r"><code>syntax = &#39;SELECT COMMUNITY_AREA_NAME FROM CENSUS_DATA WHERE COMMUNITY_AREA_NAME LIKE &quot;B%&quot;&#39;
df = sqldf(syntax)
datatable(df,options=list(scrollX=T))</code></pre>
<div id="htmlwidget-f6974c243cda17d02f6a" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-f6974c243cda17d02f6a">{"x":{"filter":"none","data":[["1","2","3","4","5"],["Belmont Cragin","Burnside","Brighton Park","Bridgeport","Beverly"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>COMMUNITY_AREA_NAME<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"order":[],"autoWidth":false,"orderClasses":false,"columnDefs":[{"orderable":false,"targets":0}]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="and-ranges" class="section level3">
<h3>AND ranges</h3>
<p>We can also select results where the predicate is between a range. Suppose we want Community Areas where HARDSHIP_INDEX is between 1 to 10</p>
<pre class="r"><code>syntax = &#39;SELECT COMMUNITY_AREA_NAME, HARDSHIP_INDEX FROM CENSUS_DATA WHERE HARDSHIP_INDEX&gt;=1 AND HARDSHIP_INDEX&lt;=10&#39;
df = sqldf(syntax)
datatable(df,options=list(scrollX=T))</code></pre>
<div id="htmlwidget-90a5d9bfc324e7cf84c9" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-90a5d9bfc324e7cf84c9">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8"],["North Center","Lake View","Lincoln Park","Near North Side","Edison Park","West Town","Loop","Near South Side"],[6,5,2,1,8,10,3,7]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>COMMUNITY_AREA_NAME<\/th>\n      <th>HARDSHIP_INDEX<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<div id="between-and" class="section level4">
<h4>BETWEEN AND</h4>
<p>Alternatively, we can use a <strong>BETWEEN…AND</strong> statement for the same query</p>
<pre class="r"><code>syntax = &#39;SELECT COMMUNITY_AREA_NAME, HARDSHIP_INDEX FROM CENSUS_DATA WHERE HARDSHIP_INDEX BETWEEN 1 AND 10&#39;
df = sqldf(syntax)
datatable(df,options=list(scrollX=T))</code></pre>
<div id="htmlwidget-8dc72780c8f5b56e7573" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-8dc72780c8f5b56e7573">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8"],["North Center","Lake View","Lincoln Park","Near North Side","Edison Park","West Town","Loop","Near South Side"],[6,5,2,1,8,10,3,7]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>COMMUNITY_AREA_NAME<\/th>\n      <th>HARDSHIP_INDEX<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="or-sets" class="section level3">
<h3>OR sets</h3>
<p>If we want to retrieve data using a set of values, the OR operator comes in handy. It follows the same syntax as AND. If we want a community with 6 or 10 for HARDSHIP_INDEX, we can do the following:</p>
<pre class="r"><code>syntax = &#39;SELECT COMMUNITY_AREA_NAME, HARDSHIP_INDEX FROM CENSUS_DATA WHERE HARDSHIP_INDEX = 6 OR HARDSHIP_INDEX = 10&#39;
df = sqldf(syntax)
datatable(df,options=list(scrollX=T))</code></pre>
<div id="htmlwidget-64bd2b844d8e70ac1145" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-64bd2b844d8e70ac1145">{"x":{"filter":"none","data":[["1","2"],["North Center","West Town"],[6,10]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>COMMUNITY_AREA_NAME<\/th>\n      <th>HARDSHIP_INDEX<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<div id="in" class="section level4">
<h4>IN</h4>
<p>Similarly, we can also use the IN operator, which is more efficient to type if we have many values to choose from</p>
<pre class="r"><code>syntax = &#39;SELECT COMMUNITY_AREA_NAME, HARDSHIP_INDEX FROM CENSUS_DATA WHERE HARDSHIP_INDEX IN (6,7,10)&#39;
df = sqldf(syntax)
datatable(df,options=list(scrollX=T))</code></pre>
<div id="htmlwidget-d293247267b66fbe6507" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-d293247267b66fbe6507">{"x":{"filter":"none","data":[["1","2","3"],["North Center","West Town","Near South Side"],[6,10,7]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>COMMUNITY_AREA_NAME<\/th>\n      <th>HARDSHIP_INDEX<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="order-by" class="section level3">
<h3>ORDER BY</h3>
<p>This clause is used for sorting results. The syntax is <em>SELECT * FROM TABLE</em> <strong>ORDER BY COL</strong> where COL is the column name, or column number. To order in descending order, add <strong>DESC</strong> after specifying the column. For instance, if we want the top 5 communities by HARDSHIP_INDEX, we can do the following</p>
<pre class="r"><code>syntax = &#39;SELECT COMMUNITY_AREA_NAME, HARDSHIP_INDEX FROM CENSUS_DATA ORDER BY 2 DESC LIMIT 5&#39;
df = sqldf(syntax)
datatable(df,options=list(scrollX=T))</code></pre>
<div id="htmlwidget-4f1337221f5dddd27dad" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-4f1337221f5dddd27dad">{"x":{"filter":"none","data":[["1","2","3","4","5"],["Riverdale","Fuller Park","South Lawndale","Englewood","Gage Park"],[98,97,96,94,93]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>COMMUNITY_AREA_NAME<\/th>\n      <th>HARDSHIP_INDEX<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="group-by" class="section level3">
<h3>GROUP BY</h3>
<p>The GROUP BY clause groups results into subsets that have matching values for one (or more) columns. The syntax is <em>SELECT * FROM TABLE</em> <strong>GROUP BY COL</strong>, where COL is the column to be grouped For instance, we want to count the number of crimes that occured at each different location</p>
<pre class="r"><code>syntax = &#39;SELECT LOCATION_DESCRIPTION, COUNT(LOCATION_DESCRIPTION) FROM CHICAGO_CRIME_DATA GROUP BY LOCATION_DESCRIPTION&#39;
df = sqldf(syntax)
datatable(df,options=list(scrollX=T))</code></pre>
<div id="htmlwidget-35dc496e49cbe9ca89fc" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-35dc496e49cbe9ca89fc">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48"],["AIRPORT/AIRCRAFT","ALLEY","APARTMENT","ATHLETIC CLUB","BANK","BAR OR TAVERN","CHA APARTMENT","CHA HALLWAY/STAIRWELL/ELEVATOR","CHA PARKING LOT/GROUNDS","CHURCH/SYNAGOGUE/PLACE OF WORSHIP","CLEANING STORE","COLLEGE/UNIVERSITY GROUNDS","COMMERCIAL / BUSINESS OFFICE","CONSTRUCTION SITE","CONVENIENCE STORE","CTA BUS","CTA PLATFORM","CTA TRAIN","DEPARTMENT STORE","DRUG STORE","FACTORY/MANUFACTURING BUILDING","GAS STATION","GOVERNMENT BUILDING/PROPERTY","GROCERY FOOD STORE","HOSPITAL BUILDING/GROUNDS","HOUSE","LIBRARY","MOVIE HOUSE/THEATER","NURSING HOME/RETIREMENT HOME","OTHER","OTHER COMMERCIAL TRANSPORTATION","PARKING LOT/GARAGE(NON.RESID.)","POLICE FACILITY/VEH PARKING LOT","RESIDENCE","RESIDENCE PORCH/HALLWAY","RESIDENCE-GARAGE","RESIDENTIAL YARD (FRONT/BACK)","RESTAURANT","SCHOOL, PRIVATE, BUILDING","SCHOOL, PUBLIC, BUILDING","SCHOOL, PUBLIC, GROUNDS","SIDEWALK","SMALL RETAIL STORE","STREET","TAVERN/LIQUOR STORE","VACANT LOT/LAND","VEHICLE NON-COMMERCIAL","WAREHOUSE"],[3,11,59,1,5,4,2,1,3,5,1,1,4,2,1,1,3,1,9,3,1,6,1,8,1,1,1,1,2,18,2,16,2,84,10,10,6,11,1,5,6,64,8,136,1,1,9,1]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>LOCATION_DESCRIPTION<\/th>\n      <th>COUNT(LOCATION_DESCRIPTION)<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<div id="having-restriction" class="section level4">
<h4>HAVING restriction</h4>
<p>A restriction can be applied immediately after a GROUP BY clause using HAVING. The syntax is <em>SELECT * FROM TABLE GROUP BY COL</em> <strong>HAVING PREDICATE</strong>. For instance, we only want crime locations where there are at least 20 crimes</p>
<pre class="r"><code>syntax = &#39;SELECT LOCATION_DESCRIPTION, COUNT(LOCATION_DESCRIPTION) FROM CHICAGO_CRIME_DATA GROUP BY LOCATION_DESCRIPTION HAVING COUNT(LOCATION_DESCRIPTION) &gt;= 20&#39;
df = sqldf(syntax)
datatable(df,options=list(scrollX=T))</code></pre>
<div id="htmlwidget-5ea8b982f824bc49a147" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-5ea8b982f824bc49a147">{"x":{"filter":"none","data":[["1","2","3","4"],["APARTMENT","RESIDENCE","SIDEWALK","STREET"],[59,84,64,136]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>LOCATION_DESCRIPTION<\/th>\n      <th>COUNT(LOCATION_DESCRIPTION)<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="built-in-functions" class="section level3">
<h3>Built-in functions</h3>
<div id="aggregate-functions" class="section level4">
<h4>Aggregate functions</h4>
<table>
<thead>
<tr class="header">
<th align="left">Function</th>
<th align="right">Result</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">SUM</td>
<td align="right">Add all values of column</td>
</tr>
<tr class="even">
<td align="left">MIN</td>
<td align="right">Return the minimum of column</td>
</tr>
<tr class="odd">
<td align="left">MAX</td>
<td align="right">Return maximum of column</td>
</tr>
<tr class="even">
<td align="left">AVERAGE</td>
<td align="right">Return average of column</td>
</tr>
</tbody>
</table>
<p>Example: We want to find the average safety score of schools by their community area</p>
<pre class="r"><code>syntax = &#39;SELECT AVG(SAFETY_SCORE), COMMUNITY_AREA_NAME FROM CHICAGO_PUBLIC_SCHOOLS GROUP BY COMMUNITY_AREA_NAME&#39;
df = sqldf(syntax)
datatable(df,options=list(scrollX=T))</code></pre>
<div id="htmlwidget-7c7c6f85110d80f32c2d" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-7c7c6f85110d80f32c2d">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77"],[61,45.5,43.3333333333333,45,32.3333333333333,39.7619047619048,28,56.25,47.6666666666667,70.5,55,48.125,28,56,53.25,31.8571428571429,69.3333333333333,43.25,69.1666666666667,49.4615384615385,48.6,59.8333333333333,78,34.0588235294118,99,35.5,49.1428571428571,56,37.5,35,50,39.6666666666667,41.1,58.5,54.875,59,46.6,74.0909090909091,81.8333333333333,67.2,51.5454545454545,92,51.3,60,57,38.25,86.5,68.4,80.3333333333333,54.2142857142857,38.6153846153846,85.1666666666667,49.2666666666667,81.6,77.4285714285714,null,44,55.4285714285714,51.8,41,43,33.5,27,42.5,47.4210526315789,34,52,35,25.4,50.6666666666667,31.1666666666667,37.25,58,33.8571428571429,67.2222222222222,60.3,33.2857142857143],["ALBANY PARK","ARCHER HEIGHTS","ARMOUR SQUARE","ASHBURN","AUBURN GRESHAM","AUSTIN","AVALON PARK","AVONDALE","BELMONT CRAGIN","BEVERLY","BRIDGEPORT","BRIGHTON PARK","BURNSIDE","CALUMET HEIGHTS","CHATHAM","CHICAGO LAWN","CLEARING","DOUGLAS","DUNNING","EAST GARFIELD PARK","EAST SIDE","EDGEWATER","EDISON PARK","ENGLEWOOD","FOREST GLEN","FULLER PARK","GAGE PARK","GARFIELD RIDGE","GRAND BOULEVARD","GREATER GRAND CROSSING","HEGEWISCH","HERMOSA","HUMBOLDT PARK","HYDE PARK","IRVING PARK","JEFFERSON PARK","KENWOOD","LAKE VIEW","LINCOLN PARK","LINCOLN SQUARE","LOGAN SQUARE","LOOP","LOWER WEST SIDE","MCKINLEY PARK","MONTCLARE","MORGAN PARK","MOUNT GREENWOOD","NEAR NORTH SIDE","NEAR SOUTH SIDE","NEAR WEST SIDE","NEW CITY","NORTH CENTER","NORTH LAWNDALE","NORTH PARK","NORWOOD PARK","OAKLAND","OHARE","PORTAGE PARK","PULLMAN","RIVERDALE","ROGERS PARK","ROSELAND","SOUTH CHICAGO","SOUTH DEERING","SOUTH LAWNDALE","SOUTH SHORE","UPTOWN","WASHINGTON HEIGHTS","WASHINGTON PARK","WEST ELSDON","WEST ENGLEWOOD","WEST GARFIELD PARK","WEST LAWN","WEST PULLMAN","WEST RIDGE","WEST TOWN","WOODLAWN"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>AVG(SAFETY_SCORE)<\/th>\n      <th>COMMUNITY_AREA_NAME<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":1},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="scaler-and-string-functions" class="section level4">
<h4>Scaler and String functions</h4>
<table>
<thead>
<tr class="header">
<th align="left">Function</th>
<th align="right">Result</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">ROUND</td>
<td align="right">Round all values in column</td>
</tr>
<tr class="even">
<td align="left">LENGTH</td>
<td align="right">Return length of all values in column</td>
</tr>
<tr class="odd">
<td align="left">UCASE</td>
<td align="right">Return uppercase of all values in column</td>
</tr>
<tr class="even">
<td align="left">LCASE</td>
<td align="right">Return lowercase of all values in column</td>
</tr>
</tbody>
</table>
<p>Apart from being applies in the SELECT clause, functions can also be applied in the left side of WHERE/HAVING clause. For instance, we want to filter the community areas from above such that they have an average safety score of at least 80</p>
<pre class="r"><code>syntax = &#39;SELECT AVG(SAFETY_SCORE), COMMUNITY_AREA_NAME FROM CHICAGO_PUBLIC_SCHOOLS GROUP BY COMMUNITY_AREA_NAME HAVING AVG(SAFETY_SCORE) &gt;= 80&#39;
df = sqldf(syntax)
datatable(df,options=list(scrollX=T))</code></pre>
<div id="htmlwidget-9e8752cb808f0528a3f5" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-9e8752cb808f0528a3f5">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7"],[99,81.8333333333333,92,86.5,80.3333333333333,85.1666666666667,81.6],["FOREST GLEN","LINCOLN PARK","LOOP","MOUNT GREENWOOD","NEAR SOUTH SIDE","NORTH CENTER","NORTH PARK"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>AVG(SAFETY_SCORE)<\/th>\n      <th>COMMUNITY_AREA_NAME<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":1},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="sub-queries-and-nested-selects" class="section level2">
<h2>Sub-Queries and Nested selects</h2>
<div id="using-sub-queries-as-a-predicate" class="section level3">
<h3>Using Sub-Queries as a predicate</h3>
<p>Aggregate functions such as AVG() cannot be applied on the right side of a WHERE clause. If we want to query for schools with an above average safety score, the following query will fail</p>
<pre class="r"><code>syntax = &#39;SELECT SAFETY_SCORE, NAME_OF_SCHOOL FROM CHICAGO_PUBLIC_SCHOOLS WHERE SAFETY_SCORE &gt; AVG(SAFETY_SCORE)&#39;</code></pre>
<p>A sub-query is needed to solve this. This means adding a query as the right side of a WHERE clause. THe following query allows us to find schools with an above average safety score</p>
<pre class="r"><code>syntax = &#39;SELECT SAFETY_SCORE, NAME_OF_SCHOOL FROM CHICAGO_PUBLIC_SCHOOLS WHERE SAFETY_SCORE &gt; (SELECT AVG(SAFETY_SCORE) FROM CHICAGO_PUBLIC_SCHOOLS)&#39;
df = sqldf(syntax)
datatable(df,options=list(scrollX=T))</code></pre>
<div id="htmlwidget-e93fe1c654e283dbb4da" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-e93fe1c654e283dbb4da">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232"],[99,54,61,56,66,88,67,70,99,73,52,81,57,86,99,59,87,99,75,50,63,55,61,51,58,68,54,54,59,53,58,55,66,58,87,78,66,60,59,52,50,61,99,99,95,50,77,86,51,70,99,60,67,71,60,53,51,87,60,86,72,70,65,61,59,61,76,59,53,58,74,64,64,78,68,92,58,64,65,64,58,67,57,63,57,55,71,99,99,83,67,56,63,75,60,59,80,52,50,87,74,53,65,51,51,64,74,95,72,51,60,75,66,56,60,71,61,57,50,57,58,62,50,67,67,76,63,64,99,66,54,79,65,56,57,53,58,50,59,56,63,50,54,60,74,87,67,54,99,62,55,57,53,50,63,64,57,53,84,55,67,52,50,55,67,67,99,99,99,56,70,99,55,67,51,60,81,66,53,62,68,90,59,51,68,63,79,66,55,52,64,64,55,99,57,84,70,99,72,58,78,99,91,72,67,85,56,50,50,62,71,98,55,51,67,95,99,69,70,67,56,61,90,69,52,64,92,78,57,52,70,51],["Abraham Lincoln Elementary School","Adam Clayton Powell Paideia Community Academy Elementary School","Adlai E Stevenson Elementary School","Agustin Lara Elementary Academy","Albany Park Multicultural Academy","Albert G Lane Technical High School","Albert R Sabin Elementary Magnet School","Alcott High School for the Humanities","Alexander Graham Bell Elementary School","Alexander Hamilton Elementary School","Al Raby High School","Amelia Earhart Options for Knowledge Elementary School","Ana Roque de Duprey Elementary School","Andrew Jackson Elementary Language Academy","Annie Keller Elementary Gifted Magnet School","A.N. Pritzker School","Arthur E Canty Elementary School","Augustus H Burley Elementary School","Belmont-Cragin Elementary School","Bernhard Moos Elementary School","Bret Harte Elementary School","Brighton Park Elementary School","Burnham Elementary Inclusive Academy","Burnside Elementary Scholastic Academy","Calmeca Academy of Fine Arts and Dual Language","Carl von Linne Elementary School","Carrie Jacobs Bond Elementary School","Cesar E Chavez Multicultural Academic Center Elementary School","Charles Allen Prosser Career Academy High School","Charles N Holden Elementary School","Charles R Darwin Elementary School","Charles S Deneen Elementary School","Chicago Academy Elementary School","Chicago Academy High School","Chicago High School for Agricultural Sciences","Christian Ebinger Elementary School","Christopher Columbus Elementary School","Collins Academy High School","Columbia Explorers Elementary Academy","Daniel Boone Elementary School","Daniel Hale Williams Prep School of Medicine","Durkin Park Elementary School","Edgar Allan Poe Elementary Classical School","Edgebrook Elementary School","Edison Park Elementary School","Edward Jenner Elementary Academy of the Arts","Edward N Hurley Elementary School","Elizabeth H Sutherland Elementary School","Elizabeth Peabody Elementary School","Eliza Chappell Elementary School","Ellen Mitchell Elementary School","Emiliano Zapata Elementary Academy","Eric Solorio Academy High School","Ernst Prussing Elementary School","Evergreen Academy Middle School","Federico Garcia Lorca Elementary School","Ferdinand Peck Elementary School","Franklin Elementary Fine Arts Center","Frazier Prospective IB Magnet Elementary School","Frederic Chopin Elementary School","Friedrich Ludwig Jahn Elementary School","Friedrich W von Steuben Metropolitan Science High School","Galileo Math &amp; Science Scholastic Academy Elementary School","Genevieve Melody Elementary School","George Armstrong International Studies Elementary School","George B Swift Elementary Specialty School","George F Cassell Elementary School","George M Pullman Elementary School","George Washington Carver Military Academy High School","George Washington Elementary School","George Westinghouse High School","Grover Cleveland Elementary School","Gwendolyn Brooks College Preparatory Academy High School","Hannah G Solomon Elementary School","Harriet E Sayre Elementary Language Academy","Hawthorne Elementary Scholastic Academy","Helen Peirce International Studies Elementary School","Hiram H Belding Elementary School","Horace Greeley Elementary School","Hyman G Rickover Naval Academy High School","Infinity Math Science and Technology High School","Inter-American Elementary Magnet School","Irma C Ruiz Elementary School","Jacob Beidler Elementary School","Jacqueline B Vaughn Occupational High School","James B Farnsworth Elementary School","James B McPherson Elementary School","James E McDade Elementary Classical School","James G Blaine Elementary School","James Otis Elementary School","James Weldon Johnson Elementary School","Jane Addams Elementary School","Jean Baptiste Beaubien Elementary School","Johann W von Goethe Elementary School","John A Walsh Elementary School","John B Drake Elementary School","John B Murphy Elementary School","John Calhoun North Elementary School","John C Burroughs Elementary School","John C Coonley Elementary School","John C Dore Elementary School","John F Kennedy High School","John Greenleaf Whittier Elementary School","John Hancock College Preparatory High School","John Harvard Elementary School of Excellence","John H Kinzie Elementary School","John H Vanderpoel Elementary Magnet School","John J Audubon Elementary School","John L Marsh Elementary School","John Marshall Metropolitan High School","Johnnie Colemon Elementary Academy","John Palmer Elementary School","John Spry Elementary Community School","John T McCutcheon Elementary School","John W Garvy Elementary School","Jonathan Burr Elementary School","Jordan Elementary Community School","Jose De Diego Elementary Community Academy","Joseph Brennemann Elementary School","Josephine C Locke Elementary School","Joseph Kellman Corporate Community Elementary School","Joshua D Kershaw Elementary School","Josiah Pickard Elementary School","Julia C Lathrop Elementary School","Julia Ward Howe Elementary School of Excellence","Kate S Kellogg Elementary School","Kenwood Academy High School","Lake View High School","LaSalle Elementary Language Academy","LaSalle II Magnet Elementary School","Laughlin Falconer Elementary School","Lenart Elementary Regional Gifted Center","Lincoln Park High School","Logandale Middle School","Lorenz Brentano Math &amp; Science Academy Elementary School","Louis A Agassiz Elementary School","Louis Nettelhorst Elementary School","Louis Pasteur Elementary School","Lyman A Budlong Elementary School","Lyman Trumbull Elementary School","Mancel Talcott Elementary School","Marcus Moziah Garvey Elementary School","Mariano Azuela Elementary School","Maria Saucedo Elementary Scholastic Academy","Mark Sheridan Elementary Math &amp; Science Academy","Mark Skinner Elementary School","Mark Twain Elementary School","Marvin Camras Elementary School","Mary E Courtenay Elementary Language Arts Center","Mary Gage Peterson Elementary School","Mary Lyon Elementary School","Mary Mapes Dodge Elementary Renaissance Academy","Mary McLeod Bethune Elementary School","Mason High School","Michael M Byrne Elementary School","Minnie Mars Jamieson Elementary School","Miriam G Canter Middle School","Morton School of Excellence","Mount Greenwood Elementary School","Nathan Hale Elementary School","National Teachers Elementary Academy","Neal F Simeon Career Academy High School","Near North Elementary School","Newton Bateman Elementary School","Norman A Bridge Elementary School","North River Elementary School","Northside College Preparatory High School","Northside Learning Center High School","Norwood Park Elementary School","Ogden International High School","Ole A Thorp Elementary Scholastic Academy","Oriole Park Elementary School","Orozco Fine Arts &amp; Sciences Elementary School","Oscar F Mayer Elementary School","Paul Cuffe Math-Science Technology Academy Elementary School","Peter A Reinberg Elementary School","Philip Rogers Elementary School","Phillip Murray Elementary Language Academy","Phoenix Military Academy High School","Portage Park Elementary School","Pulaski International Academy Elmentary School","Ray Graham Training Center High School","Richard Henry Lee Elementary School","Roald Amundsen High School","Robert A Black Magnet Elementary School","Robert Healy Elementary School","Robert L Grimes Elementary School","Robert Lindblom Math &amp; Science Academy High School","Rodolfo Lozano Bilingual &amp; International Center Elementary School","Rudyard Kipling Elementary School","Rueben Salazar Elementary Bilingual Center","Rufus M Hitch Elementary School","Salmon P Chase Elementary School","Sauganash Elementary School","Sidney Sawyer Elementary School","South Loop Elementary School","Spry Community Links High School","Stephen Decatur Classical Elementary School","Stephen K Hayt Elementary School","Stephen T Mather High School","Stone Elementary Scholastic Academy","Talman Elementary School","Thomas A Edison Regional Gifted Center Elementary School","Thomas Drummond Elementary School","Thomas Hoyne Elementary School","Thomas J Waters Elementary School","Turner-Drew Elementary Language Academy","Uplift Community High School","Victor Herbert Elementary School","Virgil Grissom Elementary School","Walter L Newberry Math &amp; Science Academy Elementary School","Walter Payton College Preparatory High School","Washington D Smyser Elementary School","Wells Community Academy High School","West Ridge Elementary School","Whitney M Young Magnet High School","Wildwood Elementary School","Willa Cather Elementary School","William C Goudy Elementary School","William E Dever Elementary School","William F Finkl Elementary School","William Howard Taft High School","William H Prescott Elementary School","William H Ray Elementary School","William J &amp; Charles H Mayo Elementary School","William J Onahan Elementary School","William Jones College Preparatory High School","William Penn Elementary School","William P Gray Elementary School","William P Nixon Elementary School","Woodlawn Community Elementary School","World Language Academy High School"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>SAFETY_SCORE<\/th>\n      <th>NAME_OF_SCHOOL<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":1},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="using-sub-queries-in-a-new-column" class="section level3">
<h3>Using Sub-Queries in a new column</h3>
<p>Similar to the previous example, aggregate functions also cannot be applied as a new column if there is no aggregation occurring. For example, if we want to compare the safety score of each school to the average safety score, the following query will fail</p>
<pre class="r"><code>syntax = &#39;SELECT SAFETY_SCORE, AVG(SAFETY_SCORE), NAME_OF_SCHOOL FROM CHICAGO_PUBLIC_SCHOOLS WHERE SAFETY_SCORE &gt; AVG(SAFETY_SCORE)&#39;</code></pre>
<p>Instead, a sub-query like the following will have to be used</p>
<pre class="r"><code>syntax = &#39;SELECT SAFETY_SCORE, (SELECT AVG(SAFETY_SCORE) FROM CHICAGO_PUBLIC_SCHOOLS) AS AVG_SAFETY_SCORE, NAME_OF_SCHOOL FROM CHICAGO_PUBLIC_SCHOOLS&#39;
df = sqldf(syntax)
datatable(df,options=list(scrollX=T))</code></pre>
<div id="htmlwidget-435a68d4f09e4f3670c2" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-435a68d4f09e4f3670c2">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329","330","331","332","333","334","335","336","337","338","339","340","341","342","343","344","345","346","347","348","349","350","351","352","353","354","355","356","357","358","359","360","361","362","363","364","365","366","367","368","369","370","371","372","373","374","375","376","377","378","379","380","381","382","383","384","385","386","387","388","389","390","391","392","393","394","395","396","397","398","399","400","401","402","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","418","419","420","421","422","423","424","425","426","427","428","429","430","431","432","433","434","435","436","437","438","439","440","441","442","443","444","445","446","447","448","449","450","451","452","453","454","455","456","457","458","459","460","461","462","463","464","465","466","467","468","469","470","471","472","473","474","475","476","477","478","479","480","481","482","483","484","485","486","487","488","489","490","491","492","493","494","495","496","497","498","499","500","501","502","503","504","505","506","507","508","509","510","511","512","513","514","515","516","517","518","519","520","521","522","523","524","525","526","527","528","529","530","531","532","533","534","535","536","537","538","539","540","541","542","543","544","545","546","547","548","549","550","551","552","553","554","555","556","557","558","559","560","561","562","563","564","565","566"],[99,54,61,56,49,66,88,67,70,43,99,49,73,31,28,19,37,46,52,45,81,38,23,57,48,86,31,99,59,32,null,33,27,36,47,87,null,15,48,99,38,23,38,32,null,75,46,36,27,50,39,45,null,63,27,55,41,61,51,58,48,68,54,35,26,54,59,42,44,40,32,36,53,25,26,58,16,20,55,41,24,66,58,87,32,27,78,36,66,25,36,60,59,14,45,27,null,52,null,50,39,42,30,48,43,null,41,47,null,28,34,null,null,19,46,61,46,27,99,99,95,1,33,47,38,22,null,50,30,77,34,27,26,44,29,44,86,51,70,31,30,99,13,60,31,30,null,67,71,36,42,44,60,31,53,null,51,29,20,35,34,11,49,23,38,37,30,46,27,87,46,48,null,60,86,44,16,null,72,70,14,65,28,61,59,49,61,76,33,null,43,59,39,53,25,58,46,23,74,6,44,49,35,43,64,26,42,64,78,35,28,28,68,92,29,58,43,38,null,41,33,45,null,64,31,65,28,42,29,64,49,31,58,67,39,34,57,44,17,null,63,57,55,71,99,99,22,39,45,32,83,30,39,38,null,49,67,56,42,63,44,35,null,38,75,60,35,59,80,52,50,87,74,32,32,42,13,53,42,65,51,51,44,33,64,74,95,null,72,51,null,44,37,60,75,48,66,56,26,null,60,45,71,44,61,57,null,50,32,57,36,58,43,37,33,62,50,null,67,67,31,76,32,63,64,28,99,66,54,null,null,null,33,79,21,65,42,45,56,57,53,null,42,58,50,40,5,37,59,56,38,63,41,45,50,54,60,43,41,74,87,67,15,43,40,54,99,null,62,55,57,53,50,37,49,27,22,35,63,null,15,30,64,57,40,53,28,84,31,48,31,null,55,48,49,43,67,52,50,null,17,55,48,48,36,67,42,67,99,28,99,34,99,56,70,30,21,99,55,null,18,35,67,null,28,null,45,51,29,36,29,28,46,60,null,81,36,66,33,53,43,62,68,38,null,46,90,48,59,29,44,43,42,51,68,37,46,63,19,79,66,48,44,55,30,31,31,36,37,52,64,64,55,34,99,35,null,57,30,35,null,null,17,84,null,null,35,70,99,39,72,58,78,null,99,48,45,42,41,42,46,91,33,34,72,67,null,85,36,39,56,50,null,50,62,42,null,71,98,25,29,null,55,43,51,32,null,22,29,23,67,95,99,69,18,49,null,70,48,47,67,56,null,36,47,61,90,69,34,40,20,52,64,92,27,78,57,52,22,null,49,32,13,41,70,51],[49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347,49.504873294347],["Abraham Lincoln Elementary School","Adam Clayton Powell Paideia Community Academy Elementary School","Adlai E Stevenson Elementary School","Agustin Lara Elementary Academy","Air Force Academy High School","Albany Park Multicultural Academy","Albert G Lane Technical High School","Albert R Sabin Elementary Magnet School","Alcott High School for the Humanities","Alessandro Volta Elementary School","Alexander Graham Bell Elementary School","Alexander Graham Elementary School","Alexander Hamilton Elementary School","Alexander von Humboldt Elementary School","Alex Haley Elementary Academy","Alfred David Kohn Elementary School","Alfred Nobel Elementary School","Alice L Barnard Computer Math &amp; Science Center Elementary School","Al Raby High School","Ambrose Plamondon Elementary School","Amelia Earhart Options for Knowledge Elementary School","Ames Middle School","Amos Alonzo Stagg Elementary School","Ana Roque de Duprey Elementary School","Andrew Carnegie Elementary School","Andrew Jackson Elementary Language Academy","Anna R. Langford Community Academy","Annie Keller Elementary Gifted Magnet School","A.N. Pritzker School","Anthony Overton Elementary School","Ariel Elementary Community Academy","Arna Wendell Bontemps Elementary School","Arnold Mireles Elementary Academy","Arthur A Libby Elementary School","Arthur Dixon Elementary School","Arthur E Canty Elementary School","Arthur R Ashe Elementary School","Asa Philip Randolph Elementary School","Ashburn Community Elementary School","Augustus H Burley Elementary School","Austin Business and Entrepreneurship Academy High School","Austin O Sexton Elementary School","Austin Polytechnical Academy High School","Avalon Park Elementary School","Barbara Vick Early Childhood &amp; Family Center","Belmont-Cragin Elementary School","Benito Juarez Community Academy High School","Benjamin Banneker Elementary School","Benjamin E Mays Elementary Academy","Bernhard Moos Elementary School","Betsy Ross Elementary School","Beulah Shoesmith Elementary School","Blair Early Childhood Center","Bret Harte Elementary School","Brian Piccolo Elementary Specialty School","Brighton Park Elementary School","Bronzeville Scholastic Academy High School","Burnham Elementary Inclusive Academy","Burnside Elementary Scholastic Academy","Calmeca Academy of Fine Arts and Dual Language","Carl Schurz High School","Carl von Linne Elementary School","Carrie Jacobs Bond Elementary School","Carroll-Rosenwald Specialty Elementary School","Carter G Woodson South Elementary School","Cesar E Chavez Multicultural Academic Center Elementary School","Charles Allen Prosser Career Academy High School","Charles Evans Hughes Elementary School","Charles Gates Dawes Elementary School","Charles G Hammond Elementary School","Charles H Wacker Elementary School","Charles Kozminski Elementary Community Academy","Charles N Holden Elementary School","Charles P Caldwell Academy of Math &amp; Science Elementary School","Charles P Steinmetz Academic Centre High School","Charles R Darwin Elementary School","Charles R Henderson Elementary School","Charles S Brownell Elementary School","Charles S Deneen Elementary School","Charles Sumner  Math &amp; Science Community Acad Elementary School","Charles W Earle Elementary School","Chicago Academy Elementary School","Chicago Academy High School","Chicago High School for Agricultural Sciences","Chicago Military Academy High School","Chicago Vocational Career Academy High School","Christian Ebinger Elementary School","Christian Fenger Academy High School","Christopher Columbus Elementary School","Clara Barton Elementary School","Claremont Academy Elementary School","Collins Academy High School","Columbia Explorers Elementary Academy","Countee Cullen Elementary School","Crispus Attucks Elementary School","Crown Community Academy of Fine Arts Center Elementary School","Cyrus H McCormick Elementary School","Daniel Boone Elementary School","Daniel C Beard Elementary School","Daniel Hale Williams Prep School of Medicine","Daniel J Corkery Elementary School","Daniel R Cameron Elementary School","Daniel S Wentworth Elementary School","Daniel Webster Elementary School","David G Farragut Career Academy High School","DeVry University Advantage Academy High School","Dewey Elementary Academy of Fine Arts","DeWitt Clinton Elementary School","Disney II Magnet School","Donald Morrill Math &amp; Science Elementary School","Douglas Taylor Elementary School","Dr Jorge Prieto Math and Science","Dr  Martin Luther King  Jr  College Prep High School","Dumas Technology Academy","Dunne Technology Academy","Durkin Park Elementary School","Dvorak Technology Academy","Dyett High School","Edgar Allan Poe Elementary Classical School","Edgebrook Elementary School","Edison Park Elementary School","Edmond Burke Elementary School","Edward A Bouchet Math &amp; Science Academy Elementary School","Edward Beasley Elementary Magnet Academic Center","Edward C Delano Elementary School","Edward Coles Elementary Language Academy","Edward Everett Elementary School","Edward Jenner Elementary Academy of the Arts","Edward K Ellington Elementary School","Edward N Hurley Elementary School","Edward Tilden Career Community Academy High School","Edward White Elementary Career Academy","Edwin G Foreman High School","Elaine O Goodlow Elementary Magnet School","Elihu Yale Elementary School","Eli Whitney Elementary School","Elizabeth H Sutherland Elementary School","Elizabeth Peabody Elementary School","Eliza Chappell Elementary School","Ella Flagg Young Elementary School","Ellen H Richards Career Academy High School","Ellen Mitchell Elementary School","Emil G Hirsch Metropolitan High School","Emiliano Zapata Elementary Academy","Emmett Louis Till Math and Science Academy","Enrico Fermi Elementary School","Enrico Tonti Elementary School","Eric Solorio Academy High School","Ernst Prussing Elementary School","Esmond Elementary School","Eugene Field Elementary School","Everett McKinley Dirksen Elementary School","Evergreen Academy Middle School","Fairfield Elementary Academy","Federico Garcia Lorca Elementary School","Wilma Rudolph Elementary Learning Center","Ferdinand Peck Elementary School","Fernwood Elementary School","Florence B Price Elementary School","Florence Nightingale Elementary School","Fort Dearborn Elementary School","Foster Park Elementary School","Francisco I Madero Middle School","Francis M McKay Elementary School","Francis Parkman Elementary School","Francis Scott Key Elementary School","Francis W Parker Elementary Community Academy","Frank I Bennett Elementary School","Frank L Gillespie Elementary School","Franklin Elementary Fine Arts Center","Frank W Gunsaulus Elementary Scholastic Academy","Frank W Reilly Elementary School","Franz Peter Schubert Elementary School","Frazier Prospective IB Magnet Elementary School","Frederic Chopin Elementary School","Frederick A Douglass Academy High School","Frederick Funston Elementary School","Frederick Stock Elementary School","Friedrich Ludwig Jahn Elementary School","Friedrich W von Steuben Metropolitan Science High School","Gage Park High School","Galileo Math &amp; Science Scholastic Academy Elementary School","Garrett A Morgan Elementary School","Genevieve Melody Elementary School","George Armstrong International Studies Elementary School","George B McClellan Elementary School","George B Swift Elementary Specialty School","George F Cassell Elementary School","George H Corliss High School","George Leland Elementary School","George Manierre Elementary School","George M Pullman Elementary School","George Rogers Clark Elementary School","George Washington Carver Military Academy High School","George Washington Carver Primary School","George Washington Elementary School","George Washington High School","George W Curtis Elementary School","George Westinghouse High School","George W Tilton Elementary School","Gerald Delgado Kanoon Elementary Magnet School","Graeme Stewart Elementary School","Granville T Woods Math &amp; Science Academy Elementary School","Greater Lawndale High School For Social Justice","Grover Cleveland Elementary School","Guglielmo Marconi Elementary Community Academy","Gurdon S Hubbard High School","Gwendolyn Brooks College Preparatory Academy High School","Hannah G Solomon Elementary School","Hanson Park Elementary School","Harold Washington Elementary School","Harriet Beecher Stowe Elementary School","Harriet E Sayre Elementary Language Academy","Hawthorne Elementary Scholastic Academy","Helen M Hefferan Elementary School","Helen Peirce International Studies Elementary School","Helge A Haugan Elementary School","Henry Clay Elementary School","Henry D Lloyd Elementary School","Henry H Nash Elementary School","Henry O Tanner Elementary School","Henry R Clissold Elementary School","High School of Leadership at South Shore","Hiram H Belding Elementary School","Hope College Preparatory High School","Horace Greeley Elementary School","Horace Mann Elementary School","Horatio May Elementary Community Academy","Hyde Park Academy High School","Hyman G Rickover Naval Academy High School","Ida B Wells Preparatory Elementary Academy","Ignance Paderewski Elementary Learning Academy","Infinity Math Science and Technology High School","Inter-American Elementary Magnet School","Ira F Aldridge Elementary School","Irene C. Hernandez Middle School for the Advancement of Science","Irma C Ruiz Elementary School","Irvin C Mollison Elementary School","Isabelle C O'Keeffe Elementary School","Jackie Robinson Elementary School","Jacob Beidler Elementary School","Jacqueline B Vaughn Occupational High School","James B Farnsworth Elementary School","James B McPherson Elementary School","James E McDade Elementary Classical School","James G Blaine Elementary School","James Hedges Elementary School","James Madison Elementary School","James Monroe Elementary School","James N Thorp Elementary School","James Otis Elementary School","James R Doolittle Jr Elementary School","James Russell Lowell Elementary School","James Shields Elementary School","James Wadsworth Elementary School","James Ward Elementary School","James Weldon Johnson Elementary School","Jane Addams Elementary School","Jane A Neil Elementary School","Jean Baptiste Beaubien Elementary School","Jean D Lafayette Elementary School","Jensen Elementary Scholastic Academy","Jesse Owens Elementary Community Academy","Jesse Sherwood Elementary School","Johann W von Goethe Elementary School","John A Walsh Elementary School","John Barry Elementary School","John B Drake Elementary School","John B Murphy Elementary School","John Calhoun North Elementary School","John C Burroughs Elementary School","John C Coonley Elementary School","John C Dore Elementary School","John Charles Haines Elementary School","John D Shoop Math-Science Technical Academy Elementary School","John F Eberhart Elementary School","John Fiske Elementary School","John F Kennedy High School","John Foster Dulles Elementary School","John Greenleaf Whittier Elementary School","John Hancock College Preparatory High School","John Harvard Elementary School of Excellence","John Hay Elementary Community Academy","John H Hamline Elementary School","John H Kinzie Elementary School","John H Vanderpoel Elementary Magnet School","John J Audubon Elementary School","John J Pershing Elementary Humanities Magnet","John L Marsh Elementary School","John Marshall Metropolitan High School","John M Harlan Community Academy High School","John Milton Gregory Elementary School","John M Smyth Elementary School","Johnnie Colemon Elementary Academy","John Palmer Elementary School","John P Altgeld Elementary School","John Spry Elementary Community School","John T McCutcheon Elementary School","John T Pirie Fine Arts &amp; Academic Center Elementary School","John W Cook Elementary School","John W Garvy Elementary School","John Whistler Elementary School","Jonathan Burr Elementary School","Jonathan Y Scammon Elementary School","Jordan Elementary Community School","Jose De Diego Elementary Community Academy","Josefa Ortiz De Dominguez Elementary School","Joseph Brennemann Elementary School","Joseph E Gary Elementary School","Josephine C Locke Elementary School","Joseph Jungman Elementary School","Joseph Kellman Corporate Community Elementary School","Joseph Lovett Elementary School","Joseph Stockton Elementary School","Joseph Warren Elementary School","Joshua D Kershaw Elementary School","Josiah Pickard Elementary School","Joyce Kilmer Elementary School","Julia C Lathrop Elementary School","Julia Ward Howe Elementary School of Excellence","Kate S Buckingham Special Education Center","Kate S Kellogg Elementary School","Kelvyn Park High School","Kenwood Academy High School","Lake View High School","Langston Hughes Elementary School","LaSalle Elementary Language Academy","LaSalle II Magnet Elementary School","Laughlin Falconer Elementary School","Laura S Ward Elementary School","Lawndale Elementary Community Academy","Lazaro Cardenas Elementary School","Leif Ericson Elementary Scholastic Academy","Lenart Elementary Regional Gifted Center","Leslie Lewis Elementary School","Lincoln Park High School","Lionel Hampton Fine &amp; Performing Arts Elementary School","Little Village Elementary School","Logandale Middle School","Lorenz Brentano Math &amp; Science Academy Elementary School","Louis A Agassiz Elementary School","Louisa May Alcott Elementary School","Louis Armstrong Math &amp; Science Elementary School","Louis Nettelhorst Elementary School","Louis Pasteur Elementary School","Ludwig Van Beethoven Elementary School","Luke O'Toole Elementary School","Luther Burbank Elementary School","Lyman A Budlong Elementary School","Lyman Trumbull Elementary School","Mahalia Jackson Elementary School","Mancel Talcott Elementary School","Manley Career Academy High School","Manuel Perez Elementary School","Marcus Moziah Garvey Elementary School","Mariano Azuela Elementary School","Maria Saucedo Elementary Scholastic Academy","Marie Sklodowska Curie Metropolitan High School","Marine Military Math and Science Academy ","Mark Sheridan Elementary Math &amp; Science Academy","Mark Skinner Elementary School","Mark Twain Elementary School","Marquette Elementary School","Martha Ruggles Elementary School","Martin A Ryerson Elementary School","Marvin Camras Elementary School","Mary E Courtenay Elementary Language Arts Center","Mary E McDowell Elementary School","Mary Gage Peterson Elementary School","Mary Lyon Elementary School","Mary Mapes Dodge Elementary Renaissance Academy","Mary McLeod Bethune Elementary School","Mason High School","Matthew A Henson Elementary School","Matthew Gallistel Elementary Language Academy","Medgar Evers Elementary School","Melville W Fuller Elementary School","Michael Faraday Elementary School","Michael M Byrne Elementary School","Michele Clark Academic Prep Magnet High School","Mildred I Lavizzo Elementary School","Milton Brunson Math &amp; Science Specialty Elementary School ","Minnie Mars Jamieson Elementary School","Miriam G Canter Middle School","Morgan Park High School","Morton School of Excellence","Moses Montefiore Special Elementary School","Mount Greenwood Elementary School","Mount Vernon Elementary School","Multicultural Academy of Scholarship","Myra Bradwell Communications Arts &amp; Sciences Elementary School","Nathanael Greene Elementary School","Nathan Hale Elementary School","Nathaniel Pope Elementary School","Nathan R Goldblatt Elementary School","Nathan S Davis Elementary School","National Teachers Elementary Academy","Neal F Simeon Career Academy High School","Near North Elementary School","New Field Elementary School","New Millennium High School of Health at Bowen","Newton Bateman Elementary School","Nicholas Senn High School","Nicholson Technology Academy","Ninos Heroes Elementary Academic Center","Norman A Bridge Elementary School","North-Grand High School","North River Elementary School","Northside College Preparatory High School","Percy L Julian High School","Northside Learning Center High School","Northwest Middle School","Norwood Park Elementary School","Ogden International High School","Ole A Thorp Elementary Scholastic Academy","Oliver S Westcott Elementary School","Oliver Wendell Holmes Elementary School","Oriole Park Elementary School","Orozco Fine Arts &amp; Sciences Elementary School","Orr Academy High School","Orville T Bright Elementary School","Oscar DePriest Elementary School","Oscar F Mayer Elementary School","Pablo Casals Elementary School","Park Manor Elementary School","Parkside Elementary Community Academy","Patrick Henry Elementary School","Paul Cuffe Math-Science Technology Academy Elementary School","Paul Laurence Dunbar Career Academy High School","Paul Revere Elementary School","Paul Robeson High School","Perkins Bass Elementary School","Pershing West Middle School","Peter A Reinberg Elementary School","Peter Cooper Elementary Dual Language Academy","Philip Rogers Elementary School","Phillip D Armour Elementary School","Phillip Murray Elementary Language Academy","Phobe Apperson Hearst Elementary School","Phoenix Military Academy High School","Pilsen Elementary Community Academy","Portage Park Elementary School","Pulaski International Academy Elmentary School","Rachel Carson Elementary School","Ralph H Metcalfe Elementary Community Academy","Ravenswood Elementary School","Ray Graham Training Center High School","Richard Edwards Elementary School","Richard Henry Lee Elementary School","Richard J Daley Elementary Academy","Richard J Oglesby Elementary School","Richard T Crane Technical Preparatory High School","Richard Yates Elementary School","Roald Amundsen High School","Robert A Black Magnet Elementary School","Robert Emmet Elementary School","Robert Fulton Elementary School","Robert Healy Elementary School","Robert H Lawrence Elementary School","Robert L Grimes Elementary School","Robert Lindblom Math &amp; Science Academy High School","Robert Nathaniel Dett Elementary School","Roberto Clemente Community Academy High School","Rodolfo Lozano Bilingual &amp; International Center Elementary School","Roger C Sullivan High School","Ronald Brown Elementary Community Academy","Ronald E McNair Elementary School","Rosario Castellanos Elementary School","Roswell B Mason Elementary School","Rudyard Kipling Elementary School","Rueben Salazar Elementary Bilingual Center","Rufus M Hitch Elementary School","Salmon P Chase Elementary School","Samuel Gompers Fine Arts Options Elementary School","Sauganash Elementary School","Scott Joplin Elementary School","Sharon Christa McAuliffe Elementary School","Sidney Sawyer Elementary School","Simon Guggenheim Elementary School","Sir Miles Davis Magnet Elementary Academy","Skinner North","Socorro Sandoval Elementary School","Songhai Elementary Learning Institute","South Loop Elementary School","South Shore Fine Arts Academy","Southside Occupational Academy High School","Spencer Technology Academy","Spry Community Links High School","Stephen Decatur Classical Elementary School","Stephen F Gale Elementary Community Academy","Stephen K Hayt Elementary School","Stephen T Mather High School","Stone Elementary Scholastic Academy","Suder Montessori Magnet Elementary School","Talman Elementary School","Tarkington School of Excellence Elementary School","TEAM Englewood Community Academy High School","Telpochcalli Elementary School","Theodore Herzl Elementary School","Theodore Roosevelt High School","Theophilus Schmid Elementary School","Thomas A Edison Regional Gifted Center Elementary School","Thomas A Hendricks Elementary Community Academy","Thomas Chalmers Specialty Elementary School","Thomas Drummond Elementary School","Thomas Hoyne Elementary School","Thomas J Higgins Elementary Community Academy","Thomas J Waters Elementary School","Thomas Kelly High School","Thurgood Marshall Middle School","Turner-Drew Elementary Language Academy","Uplift Community High School","Velma F Thomas Early Childhood Center","Victor Herbert Elementary School","Virgil Grissom Elementary School","VOISE Academy High School","Walt Disney Magnet Elementary School","Walter L Newberry Math &amp; Science Academy Elementary School","Walter Payton College Preparatory High School","Walter Q Gresham Elementary School","Walter Reed Elementary School","Walter S Christopher Elementary School","Washington D Smyser Elementary School","Washington Irving Elementary School","Wells Community Academy High School","Wendell E Green Elementary School","Wendell Phillips Academy High School","Wendell Smith Elementary School","West Park Elementary Academy","West Pullman Elementary School","West Ridge Elementary School","Whitney M Young Magnet High School","Wildwood Elementary School","Willa Cather Elementary School","William A Hinton Elementary School","William Bishop Owen Scholastic Academy Elementary School","William B Ogden Elementary School","William C Goudy Elementary School","William C Reavis Math &amp; Science Specialty Elementary School","William E B Dubois Elementary School","William E Dever Elementary School","William F Finkl Elementary School","William G Hibbard Elementary School","William H Brown Elementary School","William H King Elementary School","William Howard Taft High School","William H Prescott Elementary School","William H Ray Elementary School","William H Ryder Math &amp; Science Specialty Elementary School","William H Seward Communication Arts Academy Elementary School","William J Bogan High School","William J &amp; Charles H Mayo Elementary School","William J Onahan Elementary School","William Jones College Preparatory High School","William K New Sullivan Elementary School","William Penn Elementary School","William P Gray Elementary School","William P Nixon Elementary School","William Rainey Harper High School","Williams Multiplex Elementary School","Williams Preparatory Academy Middle School","William T Sherman Elementary School","William W Carter Elementary School","Wolfgang A Mozart Elementary School","Woodlawn Community Elementary School","World Language Academy High School"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>SAFETY_SCORE<\/th>\n      <th>AVG_SAFETY_SCORE<\/th>\n      <th>NAME_OF_SCHOOL<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[1,2]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="using-sub-queries-as-a-derived-table" class="section level3">
<h3>Using Sub-Queries as a Derived Table</h3>
<p>As derived tables, sub-queries can be useful when it comes to dealing with multiple tables. Briefly, it involves turning a sub-query into an entirely new table to be queried. The syntax is <em>SELECT * FROM</em> <strong>(SELECT COLA, COLB FROM TABLE)</strong> <em>AS NEWTABLE</em>. The usefulness is not visible whend dealing with single tables</p>
<pre class="r"><code>syntax = &#39;SELECT * FROM (SELECT NAME_OF_SCHOOL, SAFETY_SCORE FROM CHICAGO_PUBLIC_SCHOOLS) AS SCHOOL&#39;
df = sqldf(syntax)
datatable(df,options=list(scrollX=T))</code></pre>
<div id="htmlwidget-947e8f2aa5871bcde572" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-947e8f2aa5871bcde572">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329","330","331","332","333","334","335","336","337","338","339","340","341","342","343","344","345","346","347","348","349","350","351","352","353","354","355","356","357","358","359","360","361","362","363","364","365","366","367","368","369","370","371","372","373","374","375","376","377","378","379","380","381","382","383","384","385","386","387","388","389","390","391","392","393","394","395","396","397","398","399","400","401","402","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","418","419","420","421","422","423","424","425","426","427","428","429","430","431","432","433","434","435","436","437","438","439","440","441","442","443","444","445","446","447","448","449","450","451","452","453","454","455","456","457","458","459","460","461","462","463","464","465","466","467","468","469","470","471","472","473","474","475","476","477","478","479","480","481","482","483","484","485","486","487","488","489","490","491","492","493","494","495","496","497","498","499","500","501","502","503","504","505","506","507","508","509","510","511","512","513","514","515","516","517","518","519","520","521","522","523","524","525","526","527","528","529","530","531","532","533","534","535","536","537","538","539","540","541","542","543","544","545","546","547","548","549","550","551","552","553","554","555","556","557","558","559","560","561","562","563","564","565","566"],["Abraham Lincoln Elementary School","Adam Clayton Powell Paideia Community Academy Elementary School","Adlai E Stevenson Elementary School","Agustin Lara Elementary Academy","Air Force Academy High School","Albany Park Multicultural Academy","Albert G Lane Technical High School","Albert R Sabin Elementary Magnet School","Alcott High School for the Humanities","Alessandro Volta Elementary School","Alexander Graham Bell Elementary School","Alexander Graham Elementary School","Alexander Hamilton Elementary School","Alexander von Humboldt Elementary School","Alex Haley Elementary Academy","Alfred David Kohn Elementary School","Alfred Nobel Elementary School","Alice L Barnard Computer Math &amp; Science Center Elementary School","Al Raby High School","Ambrose Plamondon Elementary School","Amelia Earhart Options for Knowledge Elementary School","Ames Middle School","Amos Alonzo Stagg Elementary School","Ana Roque de Duprey Elementary School","Andrew Carnegie Elementary School","Andrew Jackson Elementary Language Academy","Anna R. Langford Community Academy","Annie Keller Elementary Gifted Magnet School","A.N. Pritzker School","Anthony Overton Elementary School","Ariel Elementary Community Academy","Arna Wendell Bontemps Elementary School","Arnold Mireles Elementary Academy","Arthur A Libby Elementary School","Arthur Dixon Elementary School","Arthur E Canty Elementary School","Arthur R Ashe Elementary School","Asa Philip Randolph Elementary School","Ashburn Community Elementary School","Augustus H Burley Elementary School","Austin Business and Entrepreneurship Academy High School","Austin O Sexton Elementary School","Austin Polytechnical Academy High School","Avalon Park Elementary School","Barbara Vick Early Childhood &amp; Family Center","Belmont-Cragin Elementary School","Benito Juarez Community Academy High School","Benjamin Banneker Elementary School","Benjamin E Mays Elementary Academy","Bernhard Moos Elementary School","Betsy Ross Elementary School","Beulah Shoesmith Elementary School","Blair Early Childhood Center","Bret Harte Elementary School","Brian Piccolo Elementary Specialty School","Brighton Park Elementary School","Bronzeville Scholastic Academy High School","Burnham Elementary Inclusive Academy","Burnside Elementary Scholastic Academy","Calmeca Academy of Fine Arts and Dual Language","Carl Schurz High School","Carl von Linne Elementary School","Carrie Jacobs Bond Elementary School","Carroll-Rosenwald Specialty Elementary School","Carter G Woodson South Elementary School","Cesar E Chavez Multicultural Academic Center Elementary School","Charles Allen Prosser Career Academy High School","Charles Evans Hughes Elementary School","Charles Gates Dawes Elementary School","Charles G Hammond Elementary School","Charles H Wacker Elementary School","Charles Kozminski Elementary Community Academy","Charles N Holden Elementary School","Charles P Caldwell Academy of Math &amp; Science Elementary School","Charles P Steinmetz Academic Centre High School","Charles R Darwin Elementary School","Charles R Henderson Elementary School","Charles S Brownell Elementary School","Charles S Deneen Elementary School","Charles Sumner  Math &amp; Science Community Acad Elementary School","Charles W Earle Elementary School","Chicago Academy Elementary School","Chicago Academy High School","Chicago High School for Agricultural Sciences","Chicago Military Academy High School","Chicago Vocational Career Academy High School","Christian Ebinger Elementary School","Christian Fenger Academy High School","Christopher Columbus Elementary School","Clara Barton Elementary School","Claremont Academy Elementary School","Collins Academy High School","Columbia Explorers Elementary Academy","Countee Cullen Elementary School","Crispus Attucks Elementary School","Crown Community Academy of Fine Arts Center Elementary School","Cyrus H McCormick Elementary School","Daniel Boone Elementary School","Daniel C Beard Elementary School","Daniel Hale Williams Prep School of Medicine","Daniel J Corkery Elementary School","Daniel R Cameron Elementary School","Daniel S Wentworth Elementary School","Daniel Webster Elementary School","David G Farragut Career Academy High School","DeVry University Advantage Academy High School","Dewey Elementary Academy of Fine Arts","DeWitt Clinton Elementary School","Disney II Magnet School","Donald Morrill Math &amp; Science Elementary School","Douglas Taylor Elementary School","Dr Jorge Prieto Math and Science","Dr  Martin Luther King  Jr  College Prep High School","Dumas Technology Academy","Dunne Technology Academy","Durkin Park Elementary School","Dvorak Technology Academy","Dyett High School","Edgar Allan Poe Elementary Classical School","Edgebrook Elementary School","Edison Park Elementary School","Edmond Burke Elementary School","Edward A Bouchet Math &amp; Science Academy Elementary School","Edward Beasley Elementary Magnet Academic Center","Edward C Delano Elementary School","Edward Coles Elementary Language Academy","Edward Everett Elementary School","Edward Jenner Elementary Academy of the Arts","Edward K Ellington Elementary School","Edward N Hurley Elementary School","Edward Tilden Career Community Academy High School","Edward White Elementary Career Academy","Edwin G Foreman High School","Elaine O Goodlow Elementary Magnet School","Elihu Yale Elementary School","Eli Whitney Elementary School","Elizabeth H Sutherland Elementary School","Elizabeth Peabody Elementary School","Eliza Chappell Elementary School","Ella Flagg Young Elementary School","Ellen H Richards Career Academy High School","Ellen Mitchell Elementary School","Emil G Hirsch Metropolitan High School","Emiliano Zapata Elementary Academy","Emmett Louis Till Math and Science Academy","Enrico Fermi Elementary School","Enrico Tonti Elementary School","Eric Solorio Academy High School","Ernst Prussing Elementary School","Esmond Elementary School","Eugene Field Elementary School","Everett McKinley Dirksen Elementary School","Evergreen Academy Middle School","Fairfield Elementary Academy","Federico Garcia Lorca Elementary School","Wilma Rudolph Elementary Learning Center","Ferdinand Peck Elementary School","Fernwood Elementary School","Florence B Price Elementary School","Florence Nightingale Elementary School","Fort Dearborn Elementary School","Foster Park Elementary School","Francisco I Madero Middle School","Francis M McKay Elementary School","Francis Parkman Elementary School","Francis Scott Key Elementary School","Francis W Parker Elementary Community Academy","Frank I Bennett Elementary School","Frank L Gillespie Elementary School","Franklin Elementary Fine Arts Center","Frank W Gunsaulus Elementary Scholastic Academy","Frank W Reilly Elementary School","Franz Peter Schubert Elementary School","Frazier Prospective IB Magnet Elementary School","Frederic Chopin Elementary School","Frederick A Douglass Academy High School","Frederick Funston Elementary School","Frederick Stock Elementary School","Friedrich Ludwig Jahn Elementary School","Friedrich W von Steuben Metropolitan Science High School","Gage Park High School","Galileo Math &amp; Science Scholastic Academy Elementary School","Garrett A Morgan Elementary School","Genevieve Melody Elementary School","George Armstrong International Studies Elementary School","George B McClellan Elementary School","George B Swift Elementary Specialty School","George F Cassell Elementary School","George H Corliss High School","George Leland Elementary School","George Manierre Elementary School","George M Pullman Elementary School","George Rogers Clark Elementary School","George Washington Carver Military Academy High School","George Washington Carver Primary School","George Washington Elementary School","George Washington High School","George W Curtis Elementary School","George Westinghouse High School","George W Tilton Elementary School","Gerald Delgado Kanoon Elementary Magnet School","Graeme Stewart Elementary School","Granville T Woods Math &amp; Science Academy Elementary School","Greater Lawndale High School For Social Justice","Grover Cleveland Elementary School","Guglielmo Marconi Elementary Community Academy","Gurdon S Hubbard High School","Gwendolyn Brooks College Preparatory Academy High School","Hannah G Solomon Elementary School","Hanson Park Elementary School","Harold Washington Elementary School","Harriet Beecher Stowe Elementary School","Harriet E Sayre Elementary Language Academy","Hawthorne Elementary Scholastic Academy","Helen M Hefferan Elementary School","Helen Peirce International Studies Elementary School","Helge A Haugan Elementary School","Henry Clay Elementary School","Henry D Lloyd Elementary School","Henry H Nash Elementary School","Henry O Tanner Elementary School","Henry R Clissold Elementary School","High School of Leadership at South Shore","Hiram H Belding Elementary School","Hope College Preparatory High School","Horace Greeley Elementary School","Horace Mann Elementary School","Horatio May Elementary Community Academy","Hyde Park Academy High School","Hyman G Rickover Naval Academy High School","Ida B Wells Preparatory Elementary Academy","Ignance Paderewski Elementary Learning Academy","Infinity Math Science and Technology High School","Inter-American Elementary Magnet School","Ira F Aldridge Elementary School","Irene C. Hernandez Middle School for the Advancement of Science","Irma C Ruiz Elementary School","Irvin C Mollison Elementary School","Isabelle C O'Keeffe Elementary School","Jackie Robinson Elementary School","Jacob Beidler Elementary School","Jacqueline B Vaughn Occupational High School","James B Farnsworth Elementary School","James B McPherson Elementary School","James E McDade Elementary Classical School","James G Blaine Elementary School","James Hedges Elementary School","James Madison Elementary School","James Monroe Elementary School","James N Thorp Elementary School","James Otis Elementary School","James R Doolittle Jr Elementary School","James Russell Lowell Elementary School","James Shields Elementary School","James Wadsworth Elementary School","James Ward Elementary School","James Weldon Johnson Elementary School","Jane Addams Elementary School","Jane A Neil Elementary School","Jean Baptiste Beaubien Elementary School","Jean D Lafayette Elementary School","Jensen Elementary Scholastic Academy","Jesse Owens Elementary Community Academy","Jesse Sherwood Elementary School","Johann W von Goethe Elementary School","John A Walsh Elementary School","John Barry Elementary School","John B Drake Elementary School","John B Murphy Elementary School","John Calhoun North Elementary School","John C Burroughs Elementary School","John C Coonley Elementary School","John C Dore Elementary School","John Charles Haines Elementary School","John D Shoop Math-Science Technical Academy Elementary School","John F Eberhart Elementary School","John Fiske Elementary School","John F Kennedy High School","John Foster Dulles Elementary School","John Greenleaf Whittier Elementary School","John Hancock College Preparatory High School","John Harvard Elementary School of Excellence","John Hay Elementary Community Academy","John H Hamline Elementary School","John H Kinzie Elementary School","John H Vanderpoel Elementary Magnet School","John J Audubon Elementary School","John J Pershing Elementary Humanities Magnet","John L Marsh Elementary School","John Marshall Metropolitan High School","John M Harlan Community Academy High School","John Milton Gregory Elementary School","John M Smyth Elementary School","Johnnie Colemon Elementary Academy","John Palmer Elementary School","John P Altgeld Elementary School","John Spry Elementary Community School","John T McCutcheon Elementary School","John T Pirie Fine Arts &amp; Academic Center Elementary School","John W Cook Elementary School","John W Garvy Elementary School","John Whistler Elementary School","Jonathan Burr Elementary School","Jonathan Y Scammon Elementary School","Jordan Elementary Community School","Jose De Diego Elementary Community Academy","Josefa Ortiz De Dominguez Elementary School","Joseph Brennemann Elementary School","Joseph E Gary Elementary School","Josephine C Locke Elementary School","Joseph Jungman Elementary School","Joseph Kellman Corporate Community Elementary School","Joseph Lovett Elementary School","Joseph Stockton Elementary School","Joseph Warren Elementary School","Joshua D Kershaw Elementary School","Josiah Pickard Elementary School","Joyce Kilmer Elementary School","Julia C Lathrop Elementary School","Julia Ward Howe Elementary School of Excellence","Kate S Buckingham Special Education Center","Kate S Kellogg Elementary School","Kelvyn Park High School","Kenwood Academy High School","Lake View High School","Langston Hughes Elementary School","LaSalle Elementary Language Academy","LaSalle II Magnet Elementary School","Laughlin Falconer Elementary School","Laura S Ward Elementary School","Lawndale Elementary Community Academy","Lazaro Cardenas Elementary School","Leif Ericson Elementary Scholastic Academy","Lenart Elementary Regional Gifted Center","Leslie Lewis Elementary School","Lincoln Park High School","Lionel Hampton Fine &amp; Performing Arts Elementary School","Little Village Elementary School","Logandale Middle School","Lorenz Brentano Math &amp; Science Academy Elementary School","Louis A Agassiz Elementary School","Louisa May Alcott Elementary School","Louis Armstrong Math &amp; Science Elementary School","Louis Nettelhorst Elementary School","Louis Pasteur Elementary School","Ludwig Van Beethoven Elementary School","Luke O'Toole Elementary School","Luther Burbank Elementary School","Lyman A Budlong Elementary School","Lyman Trumbull Elementary School","Mahalia Jackson Elementary School","Mancel Talcott Elementary School","Manley Career Academy High School","Manuel Perez Elementary School","Marcus Moziah Garvey Elementary School","Mariano Azuela Elementary School","Maria Saucedo Elementary Scholastic Academy","Marie Sklodowska Curie Metropolitan High School","Marine Military Math and Science Academy ","Mark Sheridan Elementary Math &amp; Science Academy","Mark Skinner Elementary School","Mark Twain Elementary School","Marquette Elementary School","Martha Ruggles Elementary School","Martin A Ryerson Elementary School","Marvin Camras Elementary School","Mary E Courtenay Elementary Language Arts Center","Mary E McDowell Elementary School","Mary Gage Peterson Elementary School","Mary Lyon Elementary School","Mary Mapes Dodge Elementary Renaissance Academy","Mary McLeod Bethune Elementary School","Mason High School","Matthew A Henson Elementary School","Matthew Gallistel Elementary Language Academy","Medgar Evers Elementary School","Melville W Fuller Elementary School","Michael Faraday Elementary School","Michael M Byrne Elementary School","Michele Clark Academic Prep Magnet High School","Mildred I Lavizzo Elementary School","Milton Brunson Math &amp; Science Specialty Elementary School ","Minnie Mars Jamieson Elementary School","Miriam G Canter Middle School","Morgan Park High School","Morton School of Excellence","Moses Montefiore Special Elementary School","Mount Greenwood Elementary School","Mount Vernon Elementary School","Multicultural Academy of Scholarship","Myra Bradwell Communications Arts &amp; Sciences Elementary School","Nathanael Greene Elementary School","Nathan Hale Elementary School","Nathaniel Pope Elementary School","Nathan R Goldblatt Elementary School","Nathan S Davis Elementary School","National Teachers Elementary Academy","Neal F Simeon Career Academy High School","Near North Elementary School","New Field Elementary School","New Millennium High School of Health at Bowen","Newton Bateman Elementary School","Nicholas Senn High School","Nicholson Technology Academy","Ninos Heroes Elementary Academic Center","Norman A Bridge Elementary School","North-Grand High School","North River Elementary School","Northside College Preparatory High School","Percy L Julian High School","Northside Learning Center High School","Northwest Middle School","Norwood Park Elementary School","Ogden International High School","Ole A Thorp Elementary Scholastic Academy","Oliver S Westcott Elementary School","Oliver Wendell Holmes Elementary School","Oriole Park Elementary School","Orozco Fine Arts &amp; Sciences Elementary School","Orr Academy High School","Orville T Bright Elementary School","Oscar DePriest Elementary School","Oscar F Mayer Elementary School","Pablo Casals Elementary School","Park Manor Elementary School","Parkside Elementary Community Academy","Patrick Henry Elementary School","Paul Cuffe Math-Science Technology Academy Elementary School","Paul Laurence Dunbar Career Academy High School","Paul Revere Elementary School","Paul Robeson High School","Perkins Bass Elementary School","Pershing West Middle School","Peter A Reinberg Elementary School","Peter Cooper Elementary Dual Language Academy","Philip Rogers Elementary School","Phillip D Armour Elementary School","Phillip Murray Elementary Language Academy","Phobe Apperson Hearst Elementary School","Phoenix Military Academy High School","Pilsen Elementary Community Academy","Portage Park Elementary School","Pulaski International Academy Elmentary School","Rachel Carson Elementary School","Ralph H Metcalfe Elementary Community Academy","Ravenswood Elementary School","Ray Graham Training Center High School","Richard Edwards Elementary School","Richard Henry Lee Elementary School","Richard J Daley Elementary Academy","Richard J Oglesby Elementary School","Richard T Crane Technical Preparatory High School","Richard Yates Elementary School","Roald Amundsen High School","Robert A Black Magnet Elementary School","Robert Emmet Elementary School","Robert Fulton Elementary School","Robert Healy Elementary School","Robert H Lawrence Elementary School","Robert L Grimes Elementary School","Robert Lindblom Math &amp; Science Academy High School","Robert Nathaniel Dett Elementary School","Roberto Clemente Community Academy High School","Rodolfo Lozano Bilingual &amp; International Center Elementary School","Roger C Sullivan High School","Ronald Brown Elementary Community Academy","Ronald E McNair Elementary School","Rosario Castellanos Elementary School","Roswell B Mason Elementary School","Rudyard Kipling Elementary School","Rueben Salazar Elementary Bilingual Center","Rufus M Hitch Elementary School","Salmon P Chase Elementary School","Samuel Gompers Fine Arts Options Elementary School","Sauganash Elementary School","Scott Joplin Elementary School","Sharon Christa McAuliffe Elementary School","Sidney Sawyer Elementary School","Simon Guggenheim Elementary School","Sir Miles Davis Magnet Elementary Academy","Skinner North","Socorro Sandoval Elementary School","Songhai Elementary Learning Institute","South Loop Elementary School","South Shore Fine Arts Academy","Southside Occupational Academy High School","Spencer Technology Academy","Spry Community Links High School","Stephen Decatur Classical Elementary School","Stephen F Gale Elementary Community Academy","Stephen K Hayt Elementary School","Stephen T Mather High School","Stone Elementary Scholastic Academy","Suder Montessori Magnet Elementary School","Talman Elementary School","Tarkington School of Excellence Elementary School","TEAM Englewood Community Academy High School","Telpochcalli Elementary School","Theodore Herzl Elementary School","Theodore Roosevelt High School","Theophilus Schmid Elementary School","Thomas A Edison Regional Gifted Center Elementary School","Thomas A Hendricks Elementary Community Academy","Thomas Chalmers Specialty Elementary School","Thomas Drummond Elementary School","Thomas Hoyne Elementary School","Thomas J Higgins Elementary Community Academy","Thomas J Waters Elementary School","Thomas Kelly High School","Thurgood Marshall Middle School","Turner-Drew Elementary Language Academy","Uplift Community High School","Velma F Thomas Early Childhood Center","Victor Herbert Elementary School","Virgil Grissom Elementary School","VOISE Academy High School","Walt Disney Magnet Elementary School","Walter L Newberry Math &amp; Science Academy Elementary School","Walter Payton College Preparatory High School","Walter Q Gresham Elementary School","Walter Reed Elementary School","Walter S Christopher Elementary School","Washington D Smyser Elementary School","Washington Irving Elementary School","Wells Community Academy High School","Wendell E Green Elementary School","Wendell Phillips Academy High School","Wendell Smith Elementary School","West Park Elementary Academy","West Pullman Elementary School","West Ridge Elementary School","Whitney M Young Magnet High School","Wildwood Elementary School","Willa Cather Elementary School","William A Hinton Elementary School","William Bishop Owen Scholastic Academy Elementary School","William B Ogden Elementary School","William C Goudy Elementary School","William C Reavis Math &amp; Science Specialty Elementary School","William E B Dubois Elementary School","William E Dever Elementary School","William F Finkl Elementary School","William G Hibbard Elementary School","William H Brown Elementary School","William H King Elementary School","William Howard Taft High School","William H Prescott Elementary School","William H Ray Elementary School","William H Ryder Math &amp; Science Specialty Elementary School","William H Seward Communication Arts Academy Elementary School","William J Bogan High School","William J &amp; Charles H Mayo Elementary School","William J Onahan Elementary School","William Jones College Preparatory High School","William K New Sullivan Elementary School","William Penn Elementary School","William P Gray Elementary School","William P Nixon Elementary School","William Rainey Harper High School","Williams Multiplex Elementary School","Williams Preparatory Academy Middle School","William T Sherman Elementary School","William W Carter Elementary School","Wolfgang A Mozart Elementary School","Woodlawn Community Elementary School","World Language Academy High School"],[99,54,61,56,49,66,88,67,70,43,99,49,73,31,28,19,37,46,52,45,81,38,23,57,48,86,31,99,59,32,null,33,27,36,47,87,null,15,48,99,38,23,38,32,null,75,46,36,27,50,39,45,null,63,27,55,41,61,51,58,48,68,54,35,26,54,59,42,44,40,32,36,53,25,26,58,16,20,55,41,24,66,58,87,32,27,78,36,66,25,36,60,59,14,45,27,null,52,null,50,39,42,30,48,43,null,41,47,null,28,34,null,null,19,46,61,46,27,99,99,95,1,33,47,38,22,null,50,30,77,34,27,26,44,29,44,86,51,70,31,30,99,13,60,31,30,null,67,71,36,42,44,60,31,53,null,51,29,20,35,34,11,49,23,38,37,30,46,27,87,46,48,null,60,86,44,16,null,72,70,14,65,28,61,59,49,61,76,33,null,43,59,39,53,25,58,46,23,74,6,44,49,35,43,64,26,42,64,78,35,28,28,68,92,29,58,43,38,null,41,33,45,null,64,31,65,28,42,29,64,49,31,58,67,39,34,57,44,17,null,63,57,55,71,99,99,22,39,45,32,83,30,39,38,null,49,67,56,42,63,44,35,null,38,75,60,35,59,80,52,50,87,74,32,32,42,13,53,42,65,51,51,44,33,64,74,95,null,72,51,null,44,37,60,75,48,66,56,26,null,60,45,71,44,61,57,null,50,32,57,36,58,43,37,33,62,50,null,67,67,31,76,32,63,64,28,99,66,54,null,null,null,33,79,21,65,42,45,56,57,53,null,42,58,50,40,5,37,59,56,38,63,41,45,50,54,60,43,41,74,87,67,15,43,40,54,99,null,62,55,57,53,50,37,49,27,22,35,63,null,15,30,64,57,40,53,28,84,31,48,31,null,55,48,49,43,67,52,50,null,17,55,48,48,36,67,42,67,99,28,99,34,99,56,70,30,21,99,55,null,18,35,67,null,28,null,45,51,29,36,29,28,46,60,null,81,36,66,33,53,43,62,68,38,null,46,90,48,59,29,44,43,42,51,68,37,46,63,19,79,66,48,44,55,30,31,31,36,37,52,64,64,55,34,99,35,null,57,30,35,null,null,17,84,null,null,35,70,99,39,72,58,78,null,99,48,45,42,41,42,46,91,33,34,72,67,null,85,36,39,56,50,null,50,62,42,null,71,98,25,29,null,55,43,51,32,null,22,29,23,67,95,99,69,18,49,null,70,48,47,67,56,null,36,47,61,90,69,34,40,20,52,64,92,27,78,57,52,22,null,49,32,13,41,70,51]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>NAME_OF_SCHOOL<\/th>\n      <th>SAFETY_SCORE<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="working-with-multiple-tables" class="section level2">
<h2>Working with multiple tables</h2>
<div id="via-subqueries" class="section level3">
<h3>Via subqueries</h3>
<p>In CHICAGO_CRIME, there is a field called COMMUNITY_AREA_NUMBER, but there is no COMMUNITY_AREA_NAME. In order to filter for names, we can utilise the CENSUS_DATA table, which contains both COMMUNITY_AREA_NUMBER and COMMUNITY_AREA_NAME. Suppose we are interested in finding crimes that happen only in Lincoln Park. We can then use the following sub-query</p>
<pre class="r"><code>syntax = &#39;SELECT CASE_NUMBER, COMMUNITY_AREA_NUMBER FROM CHICAGO_CRIME_DATA WHERE COMMUNITY_AREA_NUMBER IN (SELECT COMMUNITY_AREA_NUMBER FROM CENSUS_DATA WHERE COMMUNITY_AREA_NAME = &quot;Lincoln Park&quot;)&#39;
df = sqldf(syntax)
datatable(df,options=list(scrollX=T))</code></pre>
<div id="htmlwidget-55124a77717b2e3a5a1f" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-55124a77717b2e3a5a1f">{"x":{"filter":"none","data":[["1","2","3","4","5"],["HV534721","HL240985","HP121474","HK450946","HL266884"],[7,7,7,7,7]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>CASE_NUMBER<\/th>\n      <th>COMMUNITY_AREA_NUMBER<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="via-implicit-joins" class="section level3">
<h3>Via implicit joins</h3>
<p>We will not be exploring full joins as they tend to give a result set containing more rows than in both tables individually. To limit a join result, we can specify a clause to matching the 2 joining columns. Note that we can use <strong>aliases</strong> for table names</p>
<p>We can also add columns from the second table (if we are interested to see the community area where the crime occured), by specifing the <strong>aliases and columns</strong> in select</p>
<pre class="r"><code>syntax = &#39;SELECT  A.CASE_NUMBER, A.COMMUNITY_AREA_NUMBER, B.COMMUNITY_AREA_NAME FROM CHICAGO_CRIME_DATA AS A, CENSUS_DATA AS B WHERE A.COMMUNITY_AREA_NUMBER = B.COMMUNITY_AREA_NUMBER&#39;
df = sqldf(syntax)
datatable(df,options=list(scrollX=T))</code></pre>
<p><div id="htmlwidget-7ce6d1adc9e63bcb7f95" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-7ce6d1adc9e63bcb7f95">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329","330","331","332","333","334","335","336","337","338","339","340","341","342","343","344","345","346","347","348","349","350","351","352","353","354","355","356","357","358","359","360","361","362","363","364","365","366","367","368","369","370","371","372","373","374","375","376","377","378","379","380","381","382","383","384","385","386","387","388","389","390","391","392","393","394","395","396","397","398","399","400","401","402","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","418","419","420","421","422","423","424","425","426","427","428","429","430","431","432","433","434","435","436","437","438","439","440","441","442","443","444","445","446","447","448","449","450","451","452","453","454","455","456","457","458","459","460","461","462","463","464","465","466","467","468","469","470","471","472","473","474","475","476","477","478","479","480","481","482","483","484","485","486","487","488","489","490"],["HK587712","HK456306","HT233595","HT133522","HZ138551","HS540106","HZ534771","HL793243","HL149610","HK361551","HX552797","HT180228","HV243612","HN200365","HK108680","HY396729","HR271603","HX332132","HW303994","HS569246","HY234744","HP320451","HN484464","JB151690","HR582990","HR535632","HH486939","HW441620","HJ561433","HR583513","HX509438","HS681158","HK350670","JA272438","HL590300","HL409680","HM324025","HV353560","HR261581","HL680775","HM543491","HY167451","HY377901","HX225704","HJ308632","HV528008","HK801112","HS532107","JA261898","JA559176","JA412895","HY273740","HZ224258","HJ652747","HJ415128","HV534721","JA503725","HM803061","HN731220","HP691879","HV537004","HR149903","HX314361","HV345270","HS308747","HK728309","HL005270","HY291329","HJ678713","HY412959","HX155070","HV402967","HX332979","HJ710634","HX165034","HR385117","HS230912","HL177398","HH702524","JA384163","HJ672058","HT368471","HY202462","HX354359","HZ146741","HX262353","HP317516","HZ335434","HS678732","HL382289","HM392612","HH869886","HR460350","HM117889","HR576816","HZ372381","HZ556726","HN421595","HK454598","HH657809","HS451246","HT651635","HZ432273","HP746347","HN772519","HZ309936","HY368284","HL353697","HT375934","JA188596","HL725506","HV395700","HH696901","HT390647","HK815196","JA490957","HK103473","HM556695","HH558381","HK498590","HX455839","HR703960","HL646682","HV445580","HJ466766","HL632721","HP579910","HL718742","HP714065","HP716225","HW481295","HS568476","JB213238","HS475732","HS595785","HR408597","HT542713","HL240985","HJ254782","HK561262","HW213573","HL177008","HJ639869","HM217017","HL388623","HY189363","HS498285","HN224900","HR387668","HJ294892","HL745027","HH827769","HH639427","HK771992","HH867007","HJ575773","HR136920","HT457930","HJ724585","HP121474","HJ723825","HJ458342","HP558812","HY192694","HN472326","HK756778","HH741961","JA460432","HX239866","HM378171","HW182288","HZ295843","HM673431","HP352546","HR286405","HR195987","HW261668","JA496716","JA344492","HZ334220","HR217367","HV268964","JA483294","HT169840","HT621306","HS269736","HK243330","HL613433","HY267896","HN568531","HT112422","HV479133","HV592346","HH619797","HZ376709","HV573337","HL269210","HL567458","HR674429","HM200888","HX467661","HX448587","HS200939","HN335611","HZ535494","HX154767","HM337445","HM244120","HR342598","HL187666","HW449676","HS589302","HX145326","HN553354","HN784049","HJ527694","HM303461","HM535632","HT353855","HR125162","HJ842548","HN280980","JA560123","HY405637","HP689703","HR345366","HZ242802","HM661326","HJ336995","HK694552","HJ760939","HV366181","HJ563089","HH576932","HR308948","HK100758","HV328581","HV267193","HJ620738","HJ557529","HS498920","HL608698","HK577020","HY365876","HS305355","HK162357","HN778969","HV185969","HH657604","HW555338","HV268708","HW160463","HN355411","HK190723","HV457847","HW566855","HL141298","HR281750","HL342355","HX112183","HJ624999","HJ618818","HR597126","HN558484","HR505781","HN522324","HN647052","HT323138","HW562748","HN719188","HT237921","HY215032","HK369511","HL703172","HM762800","HN370211","HR195962","HM284854","HL319228","HR447925","HM590293","HP513177","HL331611","HN448271","HH402660","HN422493","HP263901","G577663","HT535175","JA110097","HM360756","HN275969","HZ544441","HL660560","HS164946","HR399710","HP243837","HP157774","HP340132","HJ388435","JA246453","HN407116","JA107722","HJ532105","HH729144","HY204891","HZ228967","HY385205","HK328402","JA349450","HK743113","HR185873","HH692211","JA470839","HY182950","HR668156","HZ234518","HW569852","HS314108","HH463517","HN182437","HW493063","HJ637197","HH829588","HZ322965","HW415978","HL315870","HJ222529","HM535930","HZ242203","HN213069","HH343366","JA269772","HM507529","HP258815","HL111533","HS479338","HZ403432","HV462975","HW414519","HL414306","HT315369","HL330223","HK751265","HT540548","HX398190","HK348713","HR206683","JA462321","HV233824","HR307075","HZ134318","HM437597","HW233866","HW274134","HW526270","HP325677","HL300450","HN246122","HK450946","HT434553","HL548996","HR696852","HK481967","HT202584","HJ409442","HT251336","HV575905","HR489129","HT427568","HR539548","HS426544","HT556032","HL254965","JA216127","HW350078","HR308245","HY455377","HP747058","HN645348","HL334216","HS230740","HV593288","HK341632","HH859922","HM757133","HJ786817","HV356669","HX207970","HM733422","HH352862","HX301095","HY163644","HR140766","HH605275","HJ513676","HH337319","HH423186","HN543219","HZ463811","HN702776","HR607189","HL131736","HN519755","HL239939","HK328522","HJ349966","JA394755","HY518743","JA550741","HH493814","HZ523997","HY455698","HT404945","HL213843","HM422467","JA192460","HL446401","HS330202","HP661088","HJ281736","HN136243","HJ580490","HV213648","HV514287","HJ753917","JA133264","HJ642080","JA557966","HV548880","HR480844","HW568748","HH405177","HL472862","HL424420","JA393243","HR585012","JA455629","HV369974","HN637742","HW557360","HJ776916","HJ419340","HH329720","HM802052","HJ804627","HR190881","HN595319","HM590468","HV463112","HK749575","HS100098","HW576249","HK485601","HH460583","HM576559","HL611297","HV356389","HX203242","HN567387","HR391350","HM768251","HT394616","HH688935","HK677648","HK310265","HR314298","HT404326","HY259084","HL415544","HP265256","HR392537","HL266884","HK238408","HX343113","HM195342","HW519443","JA359626","HN144152","HN544458","HW238778","JB155558","HY458571","HZ378869","HZ378355","HX258445","HZ192829","HZ133234","HJ747227","JA143710"],[58,23,38,46,66,24,14,38,72,21,65,28,49,28,26,22,48,44,25,25,8,32,69,59,68,14,76,66,73,44,32,35,6,30,23,68,8,43,31,24,5,68,22,32,25,6,68,42,25,29,23,8,25,28,59,7,67,6,32,39,77,6,31,61,49,23,25,2,63,67,69,64,62,66,75,65,49,22,28,21,24,1,15,30,71,76,64,16,68,8,77,25,67,50,14,28,73,56,25,51,5,25,21,2,71,39,30,43,68,61,4,29,43,27,24,49,21,23,25,8,50,25,73,6,68,31,42,23,25,35,29,30,19,19,46,27,6,7,19,29,43,68,37,68,26,32,6,30,67,25,69,25,25,29,16,28,28,23,29,7,39,8,62,66,23,61,25,70,27,37,38,29,49,61,25,69,26,24,54,2,25,60,67,58,10,41,52,24,53,61,58,6,23,31,44,29,22,66,63,10,29,50,25,15,58,4,19,1,31,24,26,51,30,68,70,16,16,11,67,62,24,5,18,63,44,24,70,17,47,43,8,48,49,71,25,22,55,44,3,25,43,27,1,70,58,25,76,28,26,29,3,69,25,68,29,28,3,46,58,63,38,27,66,71,23,61,42,42,25,61,31,26,28,23,53,3,29,23,23,23,23,15,25,25,25,69,58,66,14,22,1,23,61,62,6,31,8,19,39,42,23,15,18,21,2,23,25,67,51,46,44,69,26,45,24,68,58,25,2,8,44,25,23,25,33,25,31,51,49,27,68,6,26,68,72,38,45,42,63,38,71,27,8,71,68,49,43,25,68,28,25,49,46,29,19,24,25,53,61,7,65,69,52,20,69,30,72,17,17,72,48,68,43,71,67,68,25,67,68,16,46,16,28,48,41,31,22,42,26,28,69,68,66,25,63,71,19,58,66,76,8,2,71,24,8,1,70,24,71,16,6,25,20,46,38,2,29,30,53,23,71,5,23,67,14,15,25,10,28,69,53,44,26,49,35,49,70,71,66,22,32,28,35,35,38,32,4,1,8,25,25,66,29,67,22,46,63,56,42,21,29,70,43,68,20,12,61,19,67,27,8,66,7,48,54,53,58,45,25,45,16,70,25,71,11,8,46,28,71,23],["Brighton Park","Humboldt park","Grand Boulevard","South Chicago","Chicago Lawn","West Town","Albany Park","Grand Boulevard","Beverly","Avondale","West Lawn","Near West Side","Roseland","Near West Side","West Garfield Park","Logan Square","Calumet Heights","Chatham","Austin","Austin","Near North Side","Loop","Greater Grand Crossing","McKinley Park","Englewood","Albany Park","O'Hare","Chicago Lawn","Washington Height","Chatham","Loop","Douglas","Lake View","South Lawndale","Humboldt park","Englewood","Near North Side","South Shore","Lower West Side","West Town","North Center","Englewood","Logan Square","Loop","Austin","Lake View","Englewood","Woodlawn","Austin","North Lawndale","Humboldt park","Near North Side","Austin","Near West Side","McKinley Park","Lincoln Park","West Englewood","Lake View","Loop","Kenwood","Edgewater","Lake View","Lower West Side","New City","Roseland","Humboldt park","Austin","West Ridge","Gage Park","West Englewood","Greater Grand Crossing","Clearing","West Elsdon","Chicago Lawn","Morgan Park","West Lawn","Roseland","Logan Square","Near West Side","Avondale","West Town","Rogers Park","Portage Park","South Lawndale","Auburn Gresham","O'Hare","Clearing","Irving Park","Englewood","Near North Side","Edgewater","Austin","West Englewood","Pullman","Albany Park","Near West Side","Washington Height","Garfield Ridge","Austin","South Deering","North Center","Austin","Avondale","West Ridge","Auburn Gresham","Kenwood","South Lawndale","South Shore","Englewood","New City","Lincoln Square","North Lawndale","South Shore","East Garfield Park","West Town","Roseland","Avondale","Humboldt park","Austin","Near North Side","Pullman","Austin","Washington Height","Lake View","Englewood","Lower West Side","Woodlawn","Humboldt park","Austin","Douglas","North Lawndale","South Lawndale","Belmont Cragin","Belmont Cragin","South Chicago","East Garfield Park","Lake View","Lincoln Park","Belmont Cragin","North Lawndale","South Shore","Englewood","Fuller Park","Englewood","West Garfield Park","Loop","Lake View","South Lawndale","West Englewood","Austin","Greater Grand Crossing","Austin","Austin","North Lawndale","Irving Park","Near West Side","Near West Side","Humboldt park","North Lawndale","Lincoln Park","Kenwood","Near North Side","West Elsdon","Chicago Lawn","Humboldt park","New City","Austin","Ashburn","East Garfield Park","Fuller Park","Grand Boulevard","North Lawndale","Roseland","New City","Austin","Greater Grand Crossing","West Garfield Park","West Town","Riverdale","West Ridge","Austin","Bridgeport","West Englewood","Brighton Park","Norwood Park","Hyde Park","East Side","West Town","West Pullman","New City","Brighton Park","Lake View","Humboldt park","Lower West Side","Chatham","North Lawndale","Logan Square","Chicago Lawn","Gage Park","Norwood Park","North Lawndale","Pullman","Austin","Portage Park","Brighton Park","Lincoln Square","Belmont Cragin","Rogers Park","Lower West Side","West Town","West Garfield Park","South Deering","South Lawndale","Englewood","Ashburn","Irving Park","Irving Park","Jefferson Park","West Englewood","West Elsdon","West Town","North Center","Montclaire","Gage Park","Chatham","West Town","Ashburn","Dunning","Burnside","South Shore","Near North Side","Calumet Heights","Roseland","Auburn Gresham","Austin","Logan Square","Hegewisch","Chatham","Uptown","Austin","South Shore","East Garfield Park","Rogers Park","Ashburn","Brighton Park","Austin","O'Hare","Near West Side","West Garfield Park","North Lawndale","Uptown","Greater Grand Crossing","Austin","Englewood","North Lawndale","Near West Side","Uptown","South Chicago","Brighton Park","Gage Park","Grand Boulevard","East Garfield Park","Chicago Lawn","Auburn Gresham","Humboldt park","New City","Woodlawn","Woodlawn","Austin","New City","Lower West Side","West Garfield Park","Near West Side","Humboldt park","West Pullman","Uptown","North Lawndale","Humboldt park","Humboldt park","Humboldt park","Humboldt park","Portage Park","Austin","Austin","Austin","Greater Grand Crossing","Brighton Park","Chicago Lawn","Albany Park","Logan Square","Rogers Park","Humboldt park","New City","West Elsdon","Lake View","Lower West Side","Near North Side","Belmont Cragin","Kenwood","Woodlawn","Humboldt park","Portage Park","Montclaire","Avondale","West Ridge","Humboldt park","Austin","West Englewood","South Deering","South Chicago","Chatham","Greater Grand Crossing","West Garfield Park","Avalon Park","West Town","Englewood","Brighton Park","Austin","West Ridge","Near North Side","Chatham","Austin","Humboldt park","Austin","Near South Side","Austin","Lower West Side","South Deering","Roseland","East Garfield Park","Englewood","Lake View","West Garfield Park","Englewood","Beverly","Grand Boulevard","Avalon Park","Woodlawn","Gage Park","Grand Boulevard","Auburn Gresham","East Garfield Park","Near North Side","Auburn Gresham","Englewood","Roseland","South Shore","Austin","Englewood","Near West Side","Austin","Roseland","South Chicago","North Lawndale","Belmont Cragin","West Town","Austin","West Pullman","New City","Lincoln Park","West Lawn","Greater Grand Crossing","East Side","Hermosa","Greater Grand Crossing","South Lawndale","Beverly","Dunning","Dunning","Beverly","Calumet Heights","Englewood","South Shore","Auburn Gresham","West Englewood","Englewood","Austin","West Englewood","Englewood","Irving Park","South Chicago","Irving Park","Near West Side","Calumet Heights","Hyde Park","Lower West Side","Logan Square","Woodlawn","West Garfield Park","Near West Side","Greater Grand Crossing","Englewood","Chicago Lawn","Austin","Gage Park","Auburn Gresham","Belmont Cragin","Brighton Park","Chicago Lawn","O'Hare","Near North Side","West Ridge","Auburn Gresham","West Town","Near North Side","Rogers Park","Ashburn","West Town","Auburn Gresham","Irving Park","Lake View","Austin","Hermosa","South Chicago","Grand Boulevard","West Ridge","North Lawndale","South Lawndale","West Pullman","Humboldt park","Auburn Gresham","North Center","Humboldt park","West Englewood","Albany Park","Portage Park","Austin","Norwood Park","Near West Side","Greater Grand Crossing","West Pullman","Chatham","West Garfield Park","Roseland","Douglas","Roseland","Ashburn","Auburn Gresham","Chicago Lawn","Logan Square","Loop","Near West Side","Douglas","Douglas","Grand Boulevard","Loop","Lincoln Square","Rogers Park","Near North Side","Austin","Austin","Chicago Lawn","North Lawndale","West Englewood","Logan Square","South Chicago","Gage Park","Garfield Ridge","Woodlawn","Avondale","North Lawndale","Ashburn","South Shore","Englewood","Hermosa","Forest Glen","New City","Belmont Cragin","West Englewood","East Garfield Park","Near North Side","Chicago Lawn","Lincoln Park","Calumet Heights","Riverdale","West Pullman","Brighton Park","Avalon Park","Austin","Avalon Park","Irving Park","Ashburn","Austin","Auburn Gresham","Jefferson Park","Near North Side","South Chicago","Near West Side","Auburn Gresham","Humboldt park"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>CASE_NUMBER<\/th>\n      <th>COMMUNITY_AREA_NUMBER<\/th>\n      <th>COMMUNITY_AREA_NAME<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script> There are no more duplicates, and the crimes that do not have a community area number assigned are also not in the new implicit join</p>
</div>
</div>
<div id="conclusion" class="section level2">
<h2>Conclusion</h2>
<p>I hope this tutorial has been useful! While SQL is a querying language and is not used for modeling, it is an important skill to learn for data scientists as obtaining data from databases is always the first step for any data science project. SQL is needed to communicate with databases, and is becoming standard use in data science</p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3,h4",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>


</body>
</html>
