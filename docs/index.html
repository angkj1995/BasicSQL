<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Basic SQL Tutorial</title>

<script src="site_libs/jquery-1.12.4/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/paper.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="site_libs/datatables-binding-0.15/datatables.js"></script>
<link href="site_libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="site_libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="site_libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<link href="site_libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 64px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 69px;
  margin-top: -69px;
}
.section h2 {
  padding-top: 69px;
  margin-top: -69px;
}
.section h3 {
  padding-top: 69px;
  margin-top: -69px;
}
.section h4 {
  padding-top: 69px;
  margin-top: -69px;
}
.section h5 {
  padding-top: 69px;
  margin-top: -69px;
}
.section h6 {
  padding-top: 69px;
  margin-top: -69px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Basic SQL</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="about.html">About</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://www.linkedin.com/in/kang-jie-ang/">
    <span class="fab fa fab fa-linkedin fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Basic SQL Tutorial</h1>

</div>


<p>This tutorial provides a rundown on SQL commands to query relational databases. The content of this tutorial is inspired by IBM’s <a href="https://www.coursera.org/learn/sql-data-science">Databases and SQL for Data Science with Python</a> on Coursera. The tutorial assumes prior knowledge on relational database concepts</p>
<div id="dataset" class="section level2">
<h2>Dataset</h2>
<p>The data for this tutorial are from Chicago’s Data Portal, consisting of the following:</p>
<ol style="list-style-type: decimal">
<li><a href="https://data.cityofchicago.org/Health-Human-Services/Census-Data-Selected-socioeconomic-indicators-in-C/kn9c-c2s2">Socioeconomic Indicators in Chicago</a>
<ul>
<li>This is a cross-sectional (single-year) data containing socioeconomic indicators (<strong>Crowding, Poverty, Unemployment, Age distribution, Income</strong>) for each community area in Chicago</li>
</ul></li>
<li><a href="https://data.cityofchicago.org/Education/Chicago-Public-Schools-Progress-Report-Cards-2011-/9xs2-f89t">Chicago Public Schools</a>
<ul>
<li>This is a cross-section (single-year) data containing school performance indicators (<strong>Health Certification, Safety Score, College Enrollment</strong>) for each school in each comunity area in Chicago</li>
</ul></li>
<li><a href="https://data.cityofchicago.org/Public-Safety/Crimes-2001-to-present/ijzp-q8t2">Chicago Crime Data</a>
<ul>
<li>This is a panel (multi-year) data containing crime information (<strong>Crime type, Arrest indicator</strong>) for each crime that occured in Chicago</li>
</ul></li>
</ol>
<div id="download-csv-data" class="section level3">
<h3>Download (csv data)</h3>
<p>As the data from the three sources are very large, a smaller subset is used for this tutorial instead, with more database-friendly column names</p>
<ol style="list-style-type: decimal">
<li><a href="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-DB0201EN-SkillsNetwork/labs/FinalModule_Coursera/data/Census_Data_-_Selected_socioeconomic_indicators_in_Chicago__2008___2012-v2.csv">Census Dataset</a> (read as <strong>CENSUS_DATA</strong>)</li>
<li><a href="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-DB0201EN-SkillsNetwork/labs/FinalModule_Coursera/data/Chicago_Public_Schools_-_Progress_Report_Cards__2011-2012-v3.csv">Chicago Public School</a> (read as <strong>CHICAGO_PUBLIC_SCHOOLS</strong>)</li>
<li><a href="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-DB0201EN-SkillsNetwork/labs/FinalModule_Coursera/data/Chicago_Crime_Data-v2.csv">Chicago Crime Data</a> (<strong>CHICAGO_CRIME_DATA</strong>)</li>
</ol>
</div>
</div>
<div id="reading-data" class="section level2">
<h2>Reading data</h2>
<p>As there is no live database for this tutorial, the datasets will have to be read in as local dataframes. We will also use the <strong>sqldf</strong> library to practice SQL queries</p>
<pre class="r"><code>CENSUS_DATA = read.csv(&#39;Census_Data_-_Selected_socioeconomic_indicators_in_Chicago__2008___2012-v2.csv&#39;)
CHICAGO_PUBLIC_SCHOOLS = read.csv(&#39;Chicago_Public_Schools_-_Progress_Report_Cards__2011-2012-v3.csv&#39;)
CHICAGO_CRIME_DATA = read.csv(&#39;Chicago_Crime_Data-v2.csv&#39;)
library(sqldf)
library(DT)</code></pre>
<p>Let us take a look at some of the variables in the data that we have</p>
<div id="census-preview" class="section level3">
<h3>Census preview</h3>
<div id="htmlwidget-7cb57873af1b56bca18b" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-7cb57873af1b56bca18b">{"x":{"filter":"none","data":[["1","2","3","4","5","6"],[1,2,3,4,5,6],["Rogers Park","West Ridge","Uptown","Lincoln Square","North Center","Lake View"],[7.7,7.8,3.8,3.4,0.3,1.1],[23.6,17.2,24,10.9,7.5,11.4],[8.7,8.8,8.9,8.2,5.2,4.7],[18.2,20.8,11.8,13.4,4.5,2.6],[27.5,38.5,22.2,25.5,26.2,17],[23939,23040,35787,37524,57123,60058],[39,46,20,17,6,5]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>COMMUNITY_AREA_NUMBER<\/th>\n      <th>COMMUNITY_AREA_NAME<\/th>\n      <th>PERCENT.OF.HOUSING.CROWDED<\/th>\n      <th>PERCENT.HOUSEHOLDS.BELOW.POVERTY<\/th>\n      <th>PERCENT.AGED.16..UNEMPLOYED<\/th>\n      <th>PERCENT.AGED.25..WITHOUT.HIGH.SCHOOL.DIPLOMA<\/th>\n      <th>PERCENT.AGED.UNDER.18.OR.OVER.64<\/th>\n      <th>PER_CAPITA_INCOME<\/th>\n      <th>HARDSHIP_INDEX<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[1,3,4,5,6,7,8,9]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="school-preview" class="section level3">
<h3>School preview</h3>
<div id="htmlwidget-0effff203b441c56c0df" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-0effff203b441c56c0df">{"x":{"filter":"none","data":[["1","2","3","4","5","6"],[610038,610281,610185,609993,610513,610212],["Abraham Lincoln Elementary School","Adam Clayton Powell Paideia Community Academy Elementary School","Adlai E Stevenson Elementary School","Agustin Lara Elementary Academy","Air Force Academy High School","Albany Park Multicultural Academy"],["ES","ES","ES","ES","HS","MS"],["615 W Kemper Pl ","7511 S South Shore Dr ","8010 S Kostner Ave ","4619 S Wolcott Ave ","3630 S Wells St ","4929 N Sawyer Ave "],["Chicago","Chicago","Chicago","Chicago","Chicago","Chicago"],["IL","IL","IL","IL","IL","IL"],[60614,60649,60652,60609,60609,60625],["(773) 534-5720","(773) 535-6650","(773) 535-2280","(773) 535-4389","(773) 535-1590","(773) 534-5108"],["http://schoolreports.cps.edu/SchoolProgressReport_Eng/Spring2011Eng_610038.pdf","http://schoolreports.cps.edu/SchoolProgressReport_Eng/Spring2011Eng_610281.pdf","http://schoolreports.cps.edu/SchoolProgressReport_Eng/Spring2011Eng_610185.pdf","http://schoolreports.cps.edu/SchoolProgressReport_Eng/Spring2011Eng_609993.pdf","http://schoolreports.cps.edu/SchoolProgressReport_Eng/Spring2011Eng_610513.pdf","http://schoolreports.cps.edu/SchoolProgressReport_Eng/Spring2011Eng_610212.pdf"],["Fullerton Elementary Network","Skyway Elementary Network","Midway Elementary Network","Pershing Elementary Network","Southwest Side High School Network","O'Hare Elementary Network"],["NORTH-NORTHWEST SIDE COLLABORATIVE","SOUTH SIDE COLLABORATIVE","SOUTHWEST SIDE COLLABORATIVE","SOUTHWEST SIDE COLLABORATIVE","SOUTHWEST SIDE COLLABORATIVE","NORTH-NORTHWEST SIDE COLLABORATIVE"],["No","No","No","No","NDA","Yes"],["Standard","Track_E","Standard","Track_E","Standard","Standard"],["Not on Probation","Not on Probation","Not on Probation","Not on Probation","Not on Probation","Not on Probation"],["Level 1","Level 1","Level 2","Level 1","Not Enough Data","Level 1"],["Yes","No","No","No","Yes","No"],["Very Strong","Average","Strong","Average","Average","Strong"],[99,54,61,56,49,66],["Very Strong","Strong","NDA","Average","Strong","Weak"],["99","66","NDA","44","60","37"],["Strong","Strong","Average","Average","Strong","Strong"],[74,74,50,45,60,66],["Strong","Very Strong","Weak","Weak","Average","Strong"],[66,84,36,37,55,71],["Strong","Strong","NDA","Strong","Average","Average"],["65","63","NDA","65","45","43"],["Strong","Strong","NDA","Average","Average","Average"],["70","76","NDA","48","54","50"],["Strong","Weak","Average","Average","Average","Weak"],["56","46","47","53","53","46"],["Average","Average","Weak","Strong","Average","Average"],["47","50","41","58","49","51"],["96.00%","95.60%","95.70%","95.50%","93.30%","97.00%"],[2,15.7,2.3,10.4,15.6,2.3],["96.40%","95.30%","94.70%","95.80%","96.90%","96.90%"],["95.80%","100.00%","98.30%","100.00%","100.00%","100.00%"],["80.1","62.4","53.7","76.9","NDA","NDA"],["43.3","51.7","26.6","NDA","NDA","NDA"],["89.6","21.9","38.3","26","NDA","NDA"],["84.9","15.1","34.7","24.7","NDA","NDA"],["60.7","29","43.7","61.8","NDA","NDA"],["62.6","42.8","57.3","49.7","NDA","NDA"],["81.9","38.5","48.8","39.2","NDA","60.7"],["85.2","27.4","39.2","27.2","NDA","39.8"],["52","44.8","46.8","69.7","NDA","53.7"],["62.4","42.7","44","60.6","NDA","59.8"],["66.3","14.1","7.5","9.1","NDA","17.5"],["77.9","34.4","21.9","18.2","NDA","20.8"],[69.7,16.8,18.3,11.1,null,34.5],[64.4,16.5,15.5,9.6,null,15.6],[0.2,0.7,-0.9,0.9,null,0.2],[0.9,1.4,-1,2.4,null,0.3],["Yellow","Green","Red","Green","NDA","Yellow"],["Green","Green","Red","Green","NDA","Yellow"],["67.1","17.2","NDA","42.9","NDA","29.2"],["54.5","27.3","NDA","25","NDA","50"],["NDA","NDA","NDA","NDA","14.6","NDA"],["NDA","NDA","NDA","NDA","14.8","NDA"],["NDA","NDA","NDA","NDA","NDA","NDA"],["NDA","NDA","NDA","NDA","16","NDA"],["NDA","NDA","NDA","NDA","1.4","NDA"],["NDA","NDA","NDA","NDA","NDA","NDA"],["NDA","NDA","NDA","NDA","NDA","NDA"],["NDA","NDA","NDA","NDA","NDA","NDA"],["NDA","NDA","NDA","NDA","NDA","NDA"],["NDA","NDA","NDA","NDA","NDA","NDA"],[813,521,1324,556,302,266],[33,46,44,42,40,31],["NDA","NDA","NDA","NDA","91.8","NDA"],[1171699.458,1196129.985,1148427.165,1164504.29,1175177.622,1153858.196],[1915829.428,1856209.466,1851012.215,1873959.199,1880745.126,1932691.891],[41.92449696,41.76032435,41.74711093,41.8097569,41.82814609,41.9711433],[-87.64452163,-87.55673627,-87.73170248,-87.6721446,-87.63279369,-87.70962725],[7,43,70,61,34,14],["LINCOLN PARK","SOUTH SHORE","ASHBURN","NEW CITY","ARMOUR SQUARE","ALBANY PARK"],[43,7,13,20,11,39],[18,4,8,9,9,17],["(41.92449696, -87.64452163)","(41.76032435, -87.55673627)","(41.74711093, -87.73170248)","(41.8097569, -87.6721446)","(41.82814609, -87.63279369)","(41.9711433, -87.70962725)"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>School.ID<\/th>\n      <th>NAME_OF_SCHOOL<\/th>\n      <th>Elementary..Middle..or.High.School<\/th>\n      <th>Street.Address<\/th>\n      <th>City<\/th>\n      <th>State<\/th>\n      <th>ZIP.Code<\/th>\n      <th>Phone.Number<\/th>\n      <th>Link<\/th>\n      <th>Network.Manager<\/th>\n      <th>Collaborative.Name<\/th>\n      <th>Adequate.Yearly.Progress.Made.<\/th>\n      <th>Track.Schedule<\/th>\n      <th>CPS.Performance.Policy.Status<\/th>\n      <th>CPS.Performance.Policy.Level<\/th>\n      <th>HEALTHY_SCHOOL_CERTIFIED<\/th>\n      <th>Safety.Icon<\/th>\n      <th>SAFETY_SCORE<\/th>\n      <th>Family.Involvement.Icon<\/th>\n      <th>Family.Involvement.Score<\/th>\n      <th>Environment.Icon<\/th>\n      <th>Environment.Score<\/th>\n      <th>Instruction.Icon<\/th>\n      <th>Instruction.Score<\/th>\n      <th>Leaders.Icon<\/th>\n      <th>Leaders.Score<\/th>\n      <th>Teachers.Icon<\/th>\n      <th>Teachers.Score<\/th>\n      <th>Parent.Engagement.Icon<\/th>\n      <th>Parent.Engagement.Score<\/th>\n      <th>Parent.Environment.Icon<\/th>\n      <th>Parent.Environment.Score<\/th>\n      <th>AVERAGE_STUDENT_ATTENDANCE<\/th>\n      <th>Rate.of.Misconducts..per.100.students.<\/th>\n      <th>Average.Teacher.Attendance<\/th>\n      <th>Individualized.Education.Program.Compliance.Rate<\/th>\n      <th>Pk.2.Literacy..<\/th>\n      <th>Pk.2.Math..<\/th>\n      <th>Gr3.5.Grade.Level.Math..<\/th>\n      <th>Gr3.5.Grade.Level.Read..<\/th>\n      <th>Gr3.5.Keep.Pace.Read..<\/th>\n      <th>Gr3.5.Keep.Pace.Math..<\/th>\n      <th>Gr6.8.Grade.Level.Math..<\/th>\n      <th>Gr6.8.Grade.Level.Read..<\/th>\n      <th>Gr6.8.Keep.Pace.Math.<\/th>\n      <th>Gr6.8.Keep.Pace.Read..<\/th>\n      <th>Gr.8.Explore.Math..<\/th>\n      <th>Gr.8.Explore.Read..<\/th>\n      <th>ISAT.Exceeding.Math..<\/th>\n      <th>ISAT.Exceeding.Reading..<\/th>\n      <th>ISAT.Value.Add.Math<\/th>\n      <th>ISAT.Value.Add.Read<\/th>\n      <th>ISAT.Value.Add.Color.Math<\/th>\n      <th>ISAT.Value.Add.Color.Read<\/th>\n      <th>Students.Taking..Algebra..<\/th>\n      <th>Students.Passing..Algebra..<\/th>\n      <th>X9th.Grade.EXPLORE..2009.<\/th>\n      <th>X9th.Grade.EXPLORE..2010.<\/th>\n      <th>X10th.Grade.PLAN..2009.<\/th>\n      <th>X10th.Grade.PLAN..2010.<\/th>\n      <th>Net.Change.EXPLORE.and.PLAN<\/th>\n      <th>X11th.Grade.Average.ACT..2011.<\/th>\n      <th>Net.Change.PLAN.and.ACT<\/th>\n      <th>College.Eligibility..<\/th>\n      <th>Graduation.Rate..<\/th>\n      <th>College.Enrollment.Rate..<\/th>\n      <th>COLLEGE_ENROLLMENT<\/th>\n      <th>General.Services.Route<\/th>\n      <th>Freshman.on.Track.Rate..<\/th>\n      <th>X_COORDINATE<\/th>\n      <th>Y_COORDINATE<\/th>\n      <th>Latitude<\/th>\n      <th>Longitude<\/th>\n      <th>COMMUNITY_AREA_NUMBER<\/th>\n      <th>COMMUNITY_AREA_NAME<\/th>\n      <th>Ward<\/th>\n      <th>Police.District<\/th>\n      <th>Location<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[1,7,18,22,24,34,49,50,51,52,67,68,70,71,72,73,74,76,77]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="crime-preview" class="section level3">
<h3>Crime preview</h3>
<div id="htmlwidget-965e82588e39dbb556c8" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-965e82588e39dbb556c8">{"x":{"filter":"none","data":[["1","2","3","4","5","6"],[3512276,3406613,8002131,7903289,10402076,7732712],["HK587712","HK456306","HT233595","HT133522","HZ138551","HS540106"],["08/28/2004 05:50:56 PM","06/26/2004 12:40:00 PM","04/04/2011 05:45:00 AM","12/30/2010 04:30:00 PM","02/02/2016 07:30:00 PM","09/29/2010 07:59:00 AM"],["047XX S KEDZIE AVE","009XX N CENTRAL PARK AVE","043XX S WABASH AVE","083XX S KINGSTON AVE","033XX W 66TH ST","006XX W CHICAGO AVE"],["890","820","820","840","820","810"],["THEFT","THEFT","THEFT","THEFT","THEFT","THEFT"],["FROM BUILDING","$500 AND UNDER","$500 AND UNDER","FINANCIAL ID THEFT: OVER $300","$500 AND UNDER","OVER $500"],["SMALL RETAIL STORE","OTHER","NURSING HOME/RETIREMENT HOME","RESIDENCE","ALLEY","PARKING LOT/GARAGE(NON.RESID.)"],[false,false,false,false,false,false],[false,false,false,false,false,false],[911,1112,221,423,831,1323],[9,11,2,4,8,12],[14,27,3,7,15,27],[58,23,38,46,66,24],["6","6","6","6","6","6"],[1155838,1152206,1177436,1194622,1155240,1171668],[1873050,1906127,1876313,1850125,1860661,1905607],[2004,2004,2011,2010,2016,2010],["02/10/2018 03:50:01 PM","02/28/2018 03:56:25 PM","02/10/2018 03:50:01 PM","02/10/2018 03:50:01 PM","02/10/2018 03:50:01 PM","02/10/2018 03:50:01 PM"],[41.8074405,41.89827996,41.81593313,41.74366532,41.7734553,41.89644677],[-87.70395585,-87.71640551,-87.62464213,-87.56246276,-87.70648047,-87.64493868],["(41.8074405, -87.703955849)","(41.898279962, -87.716405505)","(41.815933131, -87.624642127)","(41.743665322, -87.562462756)","(41.773455295, -87.706480471)","(41.896446772, -87.644938678)"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>ID<\/th>\n      <th>CASE_NUMBER<\/th>\n      <th>DATE<\/th>\n      <th>BLOCK<\/th>\n      <th>IUCR<\/th>\n      <th>PRIMARY_TYPE<\/th>\n      <th>DESCRIPTION<\/th>\n      <th>LOCATION_DESCRIPTION<\/th>\n      <th>ARREST<\/th>\n      <th>DOMESTIC<\/th>\n      <th>BEAT<\/th>\n      <th>DISTRICT<\/th>\n      <th>WARD<\/th>\n      <th>COMMUNITY_AREA_NUMBER<\/th>\n      <th>FBICODE<\/th>\n      <th>X_COORDINATE<\/th>\n      <th>Y_COORDINATE<\/th>\n      <th>YEAR<\/th>\n      <th>UPDATEDON<\/th>\n      <th>LATITUDE<\/th>\n      <th>LONGITUDE<\/th>\n      <th>LOCATION<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[1,11,12,13,14,16,17,18,20,21]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="basic-sql-statements" class="section level2">
<h2>Basic SQL Statements</h2>
<div id="select" class="section level3">
<h3>SELECT</h3>
<p>SELECT is used to retrieve data from a table. The syntax is <strong>SELECT * FROM TABLE</strong>. This will query the entire table</p>
<pre class="r"><code>syntax = &#39;SELECT * FROM CENSUS_DATA&#39;
df = sqldf(syntax)
datatable(df,options=list(scrollX=T))</code></pre>
<div id="htmlwidget-08735d9c8aa774c6c769" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-08735d9c8aa774c6c769">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78"],[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,null],["Rogers Park","West Ridge","Uptown","Lincoln Square","North Center","Lake View","Lincoln Park","Near North Side","Edison Park","Norwood Park","Jefferson Park","Forest Glen","North Park","Albany Park","Portage Park","Irving Park","Dunning","Montclaire","Belmont Cragin","Hermosa","Avondale","Logan Square","Humboldt park","West Town","Austin","West Garfield Park","East Garfield Park","Near West Side","North Lawndale","South Lawndale","Lower West Side","Loop","Near South Side","Armour Square","Douglas","Oakland","Fuller Park","Grand Boulevard","Kenwood","Washington Park","Hyde Park","Woodlawn","South Shore","Chatham","Avalon Park","South Chicago","Burnside","Calumet Heights","Roseland","Pullman","South Deering","East Side","West Pullman","Riverdale","Hegewisch","Garfield Ridge","Archer Heights","Brighton Park","McKinley Park","Bridgeport","New City","West Elsdon","Gage Park","Clearing","West Lawn","Chicago Lawn","West Englewood","Englewood","Greater Grand Crossing","Ashburn","Auburn Gresham","Beverly","Washington Height","Mount Greenwood","Morgan Park","O'Hare","Edgewater","CHICAGO"],[7.7,7.8,3.8,3.4,0.3,1.1,0.8,1.9,1.1,2,2.7,1.1,3.9,11.3,4.1,6.3,5.2,8.1,10.8,6.9,6,3.2,14.8,2.3,6.3,9.4,8.2,3.8,7.4,15.2,9.6,1.5,1.3,5.7,1.8,1.3,3.2,3.3,2.4,5.6,1.5,2.9,2.8,3.3,1.4,4.7,6.8,2.1,2.5,1.5,4,6.8,3.3,5.8,3.3,2.6,8.5,14.4,7.2,4.5,11.9,11.1,15.8,2.7,5.8,7.6,4.8,3.8,3.6,4,4,0.9,1.1,1,0.8,3.6,4.1,4.7],[23.6,17.2,24,10.9,7.5,11.4,12.3,12.9,3.3,5.4,8.6,7.5,13.2,19.2,11.6,13.1,10.6,15.3,18.7,20.5,15.3,16.8,33.9,14.7,28.6,41.7,42.4,20.6,43.1,30.7,25.8,14.7,13.8,40.1,29.6,39.7,51.2,29.3,21.7,42.1,18.4,30.7,31.1,27.8,17.2,29.8,33,11.5,19.8,21.6,29.2,19.2,25.9,56.5,17.1,8.8,14.1,23.6,18.7,18.9,29,15.6,23.4,8.9,14.9,27.9,34.4,46.6,29.6,10.4,27.6,5.1,16.9,3.4,13.2,15.4,18.2,19.7],[8.7,8.8,8.9,8.2,5.2,4.7,5.1,7,6.5,9,12.4,6.8,9.9,10,12.6,10,10,13.8,14.6,13.1,9.2,8.2,17.3,6.6,22.6,25.8,19.6,10.7,21.2,15.8,15.8,5.7,4.9,16.7,18.2,28.7,33.9,24.3,15.7,28.6,8.4,23.4,20,24,21.1,19.7,18.6,20,20.3,22.8,16.3,12.1,19.4,34.6,9.6,11.3,16.5,13.9,13.4,13.7,23,16.7,18.2,9.5,9.6,17.1,35.9,28,23,11.7,28.3,8,20.8,8.7,15,7.1,9.2,12.9],[18.2,20.8,11.8,13.4,4.5,2.6,3.6,2.5,7.4,11.5,13.4,4.9,14.4,32.9,19.3,22.4,16.2,23.5,37.3,41.6,24.7,14.8,35.4,12.9,24.4,24.5,21.3,9.6,27.6,54.8,40.7,3.1,7.4,34.5,14.3,18.4,26.6,15.9,11.3,25.4,4.3,16.5,14,14.5,10.6,26.6,19.3,11,16.9,13.1,21,31.9,20.5,27.5,19.2,19.3,35.9,45.1,32.9,22.2,41.5,37,51.5,18.8,33.6,31.2,26.3,28.5,16.5,17.7,18.5,3.7,13.7,4.3,10.8,10.9,9.7,19.5],[27.5,38.5,22.2,25.5,26.2,17,21.5,22.6,35.3,39.5,35.5,40.5,39,32,34,31.6,33.6,38.6,37.3,36.4,31,26.2,38,21.7,37.9,43.6,43.2,22.2,42.7,33.8,32.6,13.5,21.8,38.3,30.7,40.4,44.9,39.5,35.4,42.8,26.2,36.1,35.7,40.3,39.3,41.1,42.7,44,41.2,38.6,39.5,42.8,42.1,51.5,42.9,38.1,39.2,39.3,35.6,31.3,38.9,37.7,38.8,37.6,39.6,40.6,40.7,42.5,41,36.9,41.9,40.5,42.6,36.8,40.3,30.3,23.8,33.5],[23939,23040,35787,37524,57123,60058,71551,88669,40959,32875,27751,44164,26576,21323,24336,27249,26282,22014,15461,15089,20039,31908,13781,43198,15957,10934,12961,44689,12034,10402,16444,65526,59077,16148,23791,19252,10432,23472,35911,13785,39056,18672,19398,18881,24454,16579,12515,28887,17949,20588,14685,17104,16563,8201,22677,26353,16134,13089,16954,22694,12765,15754,12171,25113,16907,13231,11317,11888,17285,23482,15528,39523,19713,34381,27149,25828,33385,28202],[39,46,20,17,6,5,2,1,8,21,25,11,33,53,35,34,28,50,70,71,42,23,85,10,73,92,83,15,87,96,76,3,7,82,47,78,97,57,26,88,14,58,55,60,41,75,79,38,52,51,65,64,62,98,44,32,67,84,61,43,91,69,93,29,56,80,89,94,66,37,74,12,48,16,30,24,19,null]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>COMMUNITY_AREA_NUMBER<\/th>\n      <th>COMMUNITY_AREA_NAME<\/th>\n      <th>PERCENT.OF.HOUSING.CROWDED<\/th>\n      <th>PERCENT.HOUSEHOLDS.BELOW.POVERTY<\/th>\n      <th>PERCENT.AGED.16..UNEMPLOYED<\/th>\n      <th>PERCENT.AGED.25..WITHOUT.HIGH.SCHOOL.DIPLOMA<\/th>\n      <th>PERCENT.AGED.UNDER.18.OR.OVER.64<\/th>\n      <th>PER_CAPITA_INCOME<\/th>\n      <th>HARDSHIP_INDEX<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[1,3,4,5,6,7,8,9]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<div id="select-specific-columns" class="section level4">
<h4>SELECT specific columns</h4>
<p>We can also use SELECT on specific columns for a table. The syntax is <strong>SELECT COL_A, COL_B FROM TABLE</strong>. This will query only the specified columns for the entire table</p>
<pre class="r"><code>syntax = &#39;SELECT COMMUNITY_AREA_NUMBER, COMMUNITY_AREA_NAME FROM CENSUS_DATA&#39;
df = sqldf(syntax)
datatable(df,options=list(scrollX=T))</code></pre>
<div id="htmlwidget-81e2ac3c520602cfd32c" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-81e2ac3c520602cfd32c">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78"],[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,null],["Rogers Park","West Ridge","Uptown","Lincoln Square","North Center","Lake View","Lincoln Park","Near North Side","Edison Park","Norwood Park","Jefferson Park","Forest Glen","North Park","Albany Park","Portage Park","Irving Park","Dunning","Montclaire","Belmont Cragin","Hermosa","Avondale","Logan Square","Humboldt park","West Town","Austin","West Garfield Park","East Garfield Park","Near West Side","North Lawndale","South Lawndale","Lower West Side","Loop","Near South Side","Armour Square","Douglas","Oakland","Fuller Park","Grand Boulevard","Kenwood","Washington Park","Hyde Park","Woodlawn","South Shore","Chatham","Avalon Park","South Chicago","Burnside","Calumet Heights","Roseland","Pullman","South Deering","East Side","West Pullman","Riverdale","Hegewisch","Garfield Ridge","Archer Heights","Brighton Park","McKinley Park","Bridgeport","New City","West Elsdon","Gage Park","Clearing","West Lawn","Chicago Lawn","West Englewood","Englewood","Greater Grand Crossing","Ashburn","Auburn Gresham","Beverly","Washington Height","Mount Greenwood","Morgan Park","O'Hare","Edgewater","CHICAGO"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>COMMUNITY_AREA_NUMBER<\/th>\n      <th>COMMUNITY_AREA_NAME<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":1},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="limit" class="section level4">
<h4>LIMIT</h4>
<p>LIMIT is used to restrict the number of rows from a data base. The syntax is <strong>SELECT * FROM TABLE LIMIT NUMBER</strong>, where NUMBER is the number of rows required</p>
<pre class="r"><code>syntax = &#39;SELECT COMMUNITY_AREA_NUMBER, COMMUNITY_AREA_NAME FROM CENSUS_DATA LIMIT 3&#39;
df = sqldf(syntax)
datatable(df,options=list(scrollX=T))</code></pre>
<div id="htmlwidget-15d9b5befa7b2194ab51" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-15d9b5befa7b2194ab51">{"x":{"filter":"none","data":[["1","2","3"],[1,2,3],["Rogers Park","West Ridge","Uptown"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>COMMUNITY_AREA_NUMBER<\/th>\n      <th>COMMUNITY_AREA_NAME<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":1},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="where" class="section level3">
<h3>WHERE</h3>
<p>WHERE clauses are used to restrict the selection to subsets only. The syntax is <em>SELECT * FROM TABLE</em> <strong>WHERE PREDICATE</strong>. For instance, we want communities with <em>PER_CAPITA_INCOME &gt;= 50000</em></p>
<pre class="r"><code>syntax = &#39;SELECT COMMUNITY_AREA_NUMBER, COMMUNITY_AREA_NAME, PER_CAPITA_INCOME FROM CENSUS_DATA WHERE PER_CAPITA_INCOME&gt;=50000&#39;
df = sqldf(syntax)
datatable(df,options=list(scrollX=T))</code></pre>
<p><div id="htmlwidget-fe4fa0f759209fadb13f" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-fe4fa0f759209fadb13f">{"x":{"filter":"none","data":[["1","2","3","4","5","6"],[5,6,7,8,32,33],["North Center","Lake View","Lincoln Park","Near North Side","Loop","Near South Side"],[57123,60058,71551,88669,65526,59077]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>COMMUNITY_AREA_NUMBER<\/th>\n      <th>COMMUNITY_AREA_NAME<\/th>\n      <th>PER_CAPITA_INCOME<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[1,3]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script> More conditions are available here</p>
<table>
<thead>
<tr class="header">
<th align="left">Condition</th>
<th align="right">Syntax</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Equal to</td>
<td align="right">=</td>
</tr>
<tr class="even">
<td align="left">Greater than</td>
<td align="right">&gt;</td>
</tr>
<tr class="odd">
<td align="left">Less than</td>
<td align="right">&lt;</td>
</tr>
<tr class="even">
<td align="left">Greater than or equal to</td>
<td align="right">&gt;=</td>
</tr>
<tr class="odd">
<td align="left">Less than or equal to</td>
<td align="right">&lt;=</td>
</tr>
<tr class="even">
<td align="left">Not equal to</td>
<td align="right">&lt;&gt;</td>
</tr>
</tbody>
</table>
</div>
<div id="other-useful-expressions" class="section level3">
<h3>Other useful expressions</h3>
<div id="count" class="section level4">
<h4>COUNT</h4>
<p>COUNT gives the number of rows that match a query. For instance, we want to know how many communities have <em>PER_CAPITA_INCOME &gt;= 50000</em>. We can also rename the column name to something we want using <strong>AS</strong>. This will give 6, which is the same number of rows as the previous exampls</p>
<pre class="r"><code>syntax = &#39;SELECT COUNT(*) AS NUMBER FROM CENSUS_DATA WHERE PER_CAPITA_INCOME&gt;=50000&#39;
df = sqldf(syntax)
datatable(df,options=list(scrollX=T))</code></pre>
<div id="htmlwidget-ef545d3d10ce2f446360" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-ef545d3d10ce2f446360">{"x":{"filter":"none","data":[["1"],[6]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>NUMBER<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":1},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="distinct" class="section level4">
<h4>DISTINCT</h4>
<p>DISTINCT removes duplicates from the query. For instance, we want to find the unique types of crime from CHICAGO_CRIME_DATA that occur at GAS STATION locations</p>
<pre class="r"><code>syntax = &#39;SELECT DISTINCT(PRIMARY_TYPE) AS CRIME_TYPE, LOCATION_DESCRIPTION FROM CHICAGO_CRIME_DATA WHERE LOCATION_DESCRIPTION = &quot;GAS STATION&quot;&#39;
df = sqldf(syntax)
datatable(df,options=list(scrollX=T))</code></pre>
<div id="htmlwidget-75f4c2cec73d465b6fb0" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-75f4c2cec73d465b6fb0">{"x":{"filter":"none","data":[["1","2","3","4"],["THEFT","NARCOTICS","ROBBERY","CRIMINAL TRESPASS"],["GAS STATION","GAS STATION","GAS STATION","GAS STATION"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>CRIME_TYPE<\/th>\n      <th>LOCATION_DESCRIPTION<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"order":[],"autoWidth":false,"orderClasses":false,"columnDefs":[{"orderable":false,"targets":0}]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="advanced-sql-statements" class="section level2">
<h2>Advanced SQL Statements</h2>
<div id="like-string-pattern" class="section level3">
<h3>LIKE string pattern</h3>
<p>String patterns are useful when we do not know the exact predicate we need. The syntax is <em>SELECT * FROM TABLE WHERE</em> <strong>PREDICATE LIKE ‘%B’</strong> For instance, we want all Community Areas that start with B</p>
<pre class="r"><code>syntax = &#39;SELECT COMMUNITY_AREA_NAME FROM CENSUS_DATA WHERE COMMUNITY_AREA_NAME LIKE &quot;B%&quot;&#39;
df = sqldf(syntax)
datatable(df,options=list(scrollX=T))</code></pre>
<div id="htmlwidget-b2f10435a46f081b2184" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-b2f10435a46f081b2184">{"x":{"filter":"none","data":[["1","2","3","4","5"],["Belmont Cragin","Burnside","Brighton Park","Bridgeport","Beverly"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>COMMUNITY_AREA_NAME<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"order":[],"autoWidth":false,"orderClasses":false,"columnDefs":[{"orderable":false,"targets":0}]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="and-ranges" class="section level3">
<h3>AND ranges</h3>
<p>We can also select results where the predicate is between a range. Suppose we want Community Areas where HARDSHIP_INDEX is between 1 to 10</p>
<pre class="r"><code>syntax = &#39;SELECT COMMUNITY_AREA_NAME, HARDSHIP_INDEX FROM CENSUS_DATA WHERE HARDSHIP_INDEX&gt;=1 AND HARDSHIP_INDEX&lt;=10&#39;
df = sqldf(syntax)
datatable(df,options=list(scrollX=T))</code></pre>
<div id="htmlwidget-c508e4ecbaa18bbe5820" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-c508e4ecbaa18bbe5820">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8"],["North Center","Lake View","Lincoln Park","Near North Side","Edison Park","West Town","Loop","Near South Side"],[6,5,2,1,8,10,3,7]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>COMMUNITY_AREA_NAME<\/th>\n      <th>HARDSHIP_INDEX<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<div id="between-and" class="section level4">
<h4>BETWEEN AND</h4>
<p>Alternatively, we can use a <strong>BETWEEN…AND</strong> statement for the same query</p>
<pre class="r"><code>syntax = &#39;SELECT COMMUNITY_AREA_NAME, HARDSHIP_INDEX FROM CENSUS_DATA WHERE HARDSHIP_INDEX BETWEEN 1 AND 10&#39;
df = sqldf(syntax)
datatable(df,options=list(scrollX=T))</code></pre>
<div id="htmlwidget-49b7c95373344d1ba81a" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-49b7c95373344d1ba81a">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8"],["North Center","Lake View","Lincoln Park","Near North Side","Edison Park","West Town","Loop","Near South Side"],[6,5,2,1,8,10,3,7]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>COMMUNITY_AREA_NAME<\/th>\n      <th>HARDSHIP_INDEX<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="or-sets" class="section level3">
<h3>OR sets</h3>
<p>If we want to retrieve data using a set of values, the OR operator comes in handy. It follows the same syntax as AND. If we want a community with 6 or 10 for HARDSHIP_INDEX, we can do the following:</p>
<pre class="r"><code>syntax = &#39;SELECT COMMUNITY_AREA_NAME, HARDSHIP_INDEX FROM CENSUS_DATA WHERE HARDSHIP_INDEX = 6 OR HARDSHIP_INDEX = 10&#39;
df = sqldf(syntax)
datatable(df,options=list(scrollX=T))</code></pre>
<div id="htmlwidget-0994b8c061f97e2a02ba" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-0994b8c061f97e2a02ba">{"x":{"filter":"none","data":[["1","2"],["North Center","West Town"],[6,10]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>COMMUNITY_AREA_NAME<\/th>\n      <th>HARDSHIP_INDEX<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<div id="in" class="section level4">
<h4>IN</h4>
<p>Similarly, we can also use the IN operator, which is more efficient to type if we have many values to choose from</p>
<pre class="r"><code>syntax = &#39;SELECT COMMUNITY_AREA_NAME, HARDSHIP_INDEX FROM CENSUS_DATA WHERE HARDSHIP_INDEX IN (6,7,10)&#39;
df = sqldf(syntax)
datatable(df,options=list(scrollX=T))</code></pre>
<div id="htmlwidget-afc04680886b6c990e8e" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-afc04680886b6c990e8e">{"x":{"filter":"none","data":[["1","2","3"],["North Center","West Town","Near South Side"],[6,10,7]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>COMMUNITY_AREA_NAME<\/th>\n      <th>HARDSHIP_INDEX<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="order-by" class="section level3">
<h3>ORDER BY</h3>
<p>This clause is used for sorting results. The syntax is <em>SELECT * FROM TABLE</em> <strong>ORDER BY COL</strong> where COL is the column name, or column number. To order in descending order, add <strong>DESC</strong> after specifying the column. For instance, if we want the top 5 communities by HARDSHIP_INDEX, we can do the following</p>
<pre class="r"><code>syntax = &#39;SELECT COMMUNITY_AREA_NAME, HARDSHIP_INDEX FROM CENSUS_DATA ORDER BY 2 DESC LIMIT 5&#39;
df = sqldf(syntax)
datatable(df,options=list(scrollX=T))</code></pre>
<div id="htmlwidget-8ad7f343d70f3fa9fbe8" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-8ad7f343d70f3fa9fbe8">{"x":{"filter":"none","data":[["1","2","3","4","5"],["Riverdale","Fuller Park","South Lawndale","Englewood","Gage Park"],[98,97,96,94,93]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>COMMUNITY_AREA_NAME<\/th>\n      <th>HARDSHIP_INDEX<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<p>This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <a href="http://rmarkdown.rstudio.com" class="uri">http://rmarkdown.rstudio.com</a>.</p>
<p>When you click the <strong>Knit</strong> button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:</p>
<pre class="r"><code>summary(cars)</code></pre>
<pre><code>##      speed           dist       
##  Min.   : 4.0   Min.   :  2.00  
##  1st Qu.:12.0   1st Qu.: 26.00  
##  Median :15.0   Median : 36.00  
##  Mean   :15.4   Mean   : 42.98  
##  3rd Qu.:19.0   3rd Qu.: 56.00  
##  Max.   :25.0   Max.   :120.00</code></pre>
</div>
</div>
<div id="including-plots" class="section level2">
<h2>Including Plots</h2>
<p>You can also embed plots, for example:</p>
<p><img src="index_files/figure-html/pressure-1.png" width="672" /></p>
<p>Note that the <code>echo = FALSE</code> parameter was added to the code chunk to prevent printing of the R code that generated the plot.</p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3,h4",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
